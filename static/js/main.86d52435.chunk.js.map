{"version":3,"sources":["components/ActionBar.module.scss","components/Header.module.scss","components/Home.module.scss","images/automaton.png","images/elevator.png","images/auto_door.png","images/automaton_101.gif","images/no_label.png","images/duplicate_label.png","images/multi_label.png","images/play_screen_structure.png","images/create_state.gif","images/change_state.gif","images/delete_state.gif","images/create_transition.gif","images/create_transition_self.gif","images/input_transition_label.gif","images/delete_transition.gif","images/play.gif","components/Transition.module.scss","components/ContextMenu.module.scss","components/Animation.module.scss","components/Common.module.scss","context/UserContext.js","constant.js","service/base-service.js","service/user-service.js","service/login-service.js","components/Header.js","components/Home.js","components/SequenceNav.js","components/QuestionArea.js","components/AutomatonGuide.js","components/PlayGuide.js","components/ActionBar.js","lib/svg-math.js","components/Transition.js","components/State.js","components/ContextMenu.js","components/SvgBase.js","components/AutomatonRender.js","service/question-service.js","components/ClearEffect.js","components/Animation.js","service/test-automaton-service.js","components/ClearPopup.js","components/Play.js","components/LoginDialog.js","components/Footer.js","components/TermsOfService.js","components/PrivacyPolicy.js","components/ScrollToTop.js","App.js","serviceWorker.js","messages.js","i18n.js","index.js","components/AutomatonGuide.module.scss","components/LoginDialog.module.scss","components/Footer.module.scss","components/SequenceNav.module.scss","components/PlayGuide.module.scss","components/State.module.scss"],"names":["module","exports","UserContext","React","createContext","id","displayName","API_ENDPOINT","process","REACT_APP_API_ENDPOINT","GOOGLE_OPEN_ID_CONNECT_ENDPOINT","REACT_APP_GOOGLE_OPEN_ID_CONNECT_ENDPOINT","GOOGLE_CLIENT_ID","REACT_APP_GOOGLE_CLIENT_ID","GOOGLE_OPEN_ID_CONNECT_REDIRECT_URI","REACT_APP_GOOGLE_OPEN_ID_CONNECT_REDIRECT_URI","REACT_APP_TWITTER_OAUTH_ENDPOINT","REACT_APP_GATAG_ID","CONTACT_EMAIL","REACT_APP_CONTACT_EMAIL","GIT_REPOSITORY_URL","REACT_APP_GIT_REPOSITORY_URL","axiosBase","create","baseURL","Constant","headers","withCredentials","responseType","saveAutomaton","questionId","automaton","a","baseApi","post","res","data","loadAutomaton","get","getGoogleAuthorizationUrl","state","params","URLSearchParams","response_type","client_id","scope","redirect_uri","toString","getState","console","debug","getTwitterToken","getTwitterAuthorizationUrl","token","oauth_token","error","Header","props","user","useTranslation","t","i18n","Container","maxWidth","style","padding","background","Grid","container","alignItems","justify","borderRadius","margin","item","sm","textAlign","to","textDecoration","className","styles","paddingRight","Home","useContext","history","useHistory","useEffect","document","title","window","gtag","PassedStatusIcon","statusIcon","passed","QuestionItem","testResultList","R","s","passedStatusIcon","Card","CardContent","overflow","display","float","clear","paddingTop","iconClass","Typography","color","gutterBottom","marginTop","fontSize","questionList","map","v","i","key","spacing","Trans","i18nKey","Button","onClick","push","variant","width","height","SequenceNav","getStyle","sequenceStatusList","find","icon","status","getDisplayValue","sequenceList","ss","masked","value","length","Paper","elevation","marginBlockStart","marginBlockEnd","List","filter","accept","displayValue","ListItem","dense","ListItemIcon","ListItemText","primary","role","undefined","QuestionArea","questionText","allowInputs","AutomatonGuide","String","children","src","ElevatorImage","alt","AutoDoorImage","AutomatonImage1","M1_101Gif","NoLabelImage","DuplicateLabelImage","MultiLabelImage","href","target","PlayGuide","PlayImage","PlayGif","paddingLeft","listStyleType","CreateStateGif","ChangeStateGif","DeleteStateGif","CreateTransitionGif","CreateTransitionSelfGif","InputTransitionLabel","DeleteTransitionGif","ActionBar","useState","tabValue","setTabValue","openGuideDialog","setOpenGuideDialog","openResetDialog","setOpenResetDialog","SaveButton","onSave","marginRight","handleChangeTab","event","newValue","onReset","onTest","disabled","animationStart","onCancel","Dialog","open","onClose","DialogContent","TabContext","AppBar","position","TabList","onChange","indicatorColor","textColor","aria-label","Tab","label","TabPanel","DialogActions","DialogContentText","rotate","rad","cx","x","cy","y","ax","ay","Math","cos","sin","Transition","VALID_INPUT_PATTERN","inputWidth","setInputWidth","inputs","inputText","setInputText","isSelf","from","distance","_x","_y","d","sqrt","pow","translation","PI","calcInputCoordinate","name","onContextMenu","e","contextMenuHandler","stopPropagation","intersection","start","end","c1","c2","r","from_x","from_y","to_x","to_y","getIntersectionOnCircle","_from","_to","calcPath","markerEnd","TextField","onInputClickHandler","maxLength","match","replace","split","validateInputs","index","onChangeHandler","onFocus","d3","raise","node","focus","type","State","clickCount","select","drag","on","updatePos","handler","states","setTimeout","onClickHandler","onDoubleClick","onDoubleClickHandler","acitve","stroke","strokeWidth","ContextMenu","show","preventDefault","left","top","items","button","itemClickHandler","displayText","SvgBase","svgDom","xmlns","pt","current","createSVGPoint","clientX","clientY","newPt","matrixTransform","getScreenCTM","inverse","ref","border","AutomatonRender","selectedStateId","setSelectedState","DEFAULT_CONTEXT_MENU_INFO","contextMenuInfo","setContextMenuInfo","STATE_CONTEXT_MENU_ITEMS","STATE_START_CONTEXT_MENU_ITEMS","TRANSITION_CONTEXT_MENU_ITEMS","updateStatePos","stateId","updated","setStates","getCount","setCount","c","count","clickState","isTransitionDuplicate","transitions","concat","fromStateId","toStateId","setTransitons","doubleClickState","predicate","updateTransitionInputs","newTransitions","showContextMenu","itemClickCallback","clickStateContextMenuItem","clickTransitionContextMenuItem","closeContextMenu","itemClick","callback","itemName","deleteStateId","viewBox","refX","refY","markerUnits","markerWidth","markerHeight","orient","fill","animation","getQuestion","questions","q","Number","ClearEffect","Drop","animateRef1","createRef","animateRef2","animateMotionRef","beginElement","angle","abs","dx","dy","attributeName","dur","begin","repeatCount","additive","attributeType","path","n","arr","perAngle","Animation","targetId","setTargetId","input","setInput","propsRef","pos","setPos","sequenceStatus","setSequenceStatus","markerVisible","setMarkerVisible","timeoutList","animateMotionDom","animationTarget","reduce","cur","next","tsIndex","Promise","resolve","transitionOrderList","cur2","next2","tIndex","t1","t2","updateStatus","sequenceId","sequences","charAt","then","stateOrderList","endElement","result","t3","setAnimationStart","setClearPopupOpen","forEach","clearTimeout","FailureAnimation","values","xlinkHref","testAutomaton","automatonData","testAutomatonData","log","question","sequenceResultList","seq","sequenceResult","currentStateId","matchTransition","includes","finishedState","ClearPopup","setOpen","Play","setSequences","setSequenceStatusList","questionData","setQuestionData","INITIAL_STATES","setTransitions","setAnimationTarget","clearPopupOpen","isNaN","parseInt","QuestionService","UserService","getQuestionData","TestAutomatonService","Object","updateSequenceStatus","updateSequenceStatusList","LoginDialog","loginByGoogle","LoginService","googleAuthorizedUrl","location","loginByTwitter","twitterAuthorizedUrl","DialogTitle","textTransform","Footer","TermsOfService","PrivacyPolicy","borderCollapse","withRouter","unlisten","listen","scrollTo","App","showLoginModal","setShowLoginModal","CssBaseline","fallback","Provider","basename","component","Boolean","hostname","messages","ja","appTitle","header","login","logout","removeAccount","cancel","removeAccountDialog","message","home","welcomeTitle","welcomeMessage","aboutAutomaton","howToPlay","questionPrefix","play","playGuide","privacyPolicy","termOfService","contextMenu","change","delete","actionBar","save","reset","test","stop","resetDialog","questionArea","inputSequences","sequenceNav","acceptingString","notAcceptingString","emptyString","common","ok","close","clearPopup","nextQuestion","loginDialog","content","loginWithGoogle","loginWithTwitter","footer","aboutLovingAutomaton","contactUs","watchSource","sourceHere","copyright","use","initReactI18next","init","resources","lng","fallbackLng","interpolation","escapeValue","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.86d52435.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"actionBar\":\"ActionBar_actionBar__3FK6c\",\"action-bar-wrapper\":\"ActionBar_action-bar-wrapper__mQlk7\",\"input-sequence-area\":\"ActionBar_input-sequence-area__1Ofh2\",\"input-sequence-lbl\":\"ActionBar_input-sequence-lbl__3QWPT\",\"input-sequence\":\"ActionBar_input-sequence__puxBj\",\"btn-area\":\"ActionBar_btn-area__3lRB-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2XAj3\",\"headerButton\":\"Header_headerButton__2stzt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"questionItem\":\"Home_questionItem__2ERpP\"};","module.exports = __webpack_public_path__ + \"static/media/automaton.3f0095c8.png\";","module.exports = __webpack_public_path__ + \"static/media/elevator.7d887b61.png\";","module.exports = __webpack_public_path__ + \"static/media/auto_door.3d65e9c9.png\";","module.exports = __webpack_public_path__ + \"static/media/automaton_101.22449837.gif\";","module.exports = __webpack_public_path__ + \"static/media/no_label.b0350579.png\";","module.exports = __webpack_public_path__ + \"static/media/duplicate_label.cb94b5b6.png\";","module.exports = __webpack_public_path__ + \"static/media/multi_label.fe5f234b.png\";","module.exports = __webpack_public_path__ + \"static/media/play_screen_structure.8d36d831.png\";","module.exports = \"data:image/gif;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/change_state.ec6ff9be.gif\";","module.exports = __webpack_public_path__ + \"static/media/delete_state.64cfd081.gif\";","module.exports = __webpack_public_path__ + \"static/media/create_transition.6c30c740.gif\";","module.exports = \"data:image/gif;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/input_transition_label.bbd1426a.gif\";","module.exports = __webpack_public_path__ + \"static/media/delete_transition.407e87a5.gif\";","module.exports = __webpack_public_path__ + \"static/media/play.fe2c5e96.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"transition\":\"Transition_transition__1_xC2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contextmenu\":\"ContextMenu_contextmenu__3D9GI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pointerText\":\"Animation_pointerText__29Hm-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Common_list__1YRV4\"};","import React from \"react\";\n\nconst UserContext = React.createContext({\n  id: '', displayName: ''\n});\n\nexport default UserContext;","export const API_ENDPOINT = process.env.REACT_APP_API_ENDPOINT;\nexport const GOOGLE_OPEN_ID_CONNECT_ENDPOINT =\n  process.env.REACT_APP_GOOGLE_OPEN_ID_CONNECT_ENDPOINT;\nexport const GOOGLE_CLIENT_ID = process.env.REACT_APP_GOOGLE_CLIENT_ID;\nexport const GOOGLE_OPEN_ID_CONNECT_REDIRECT_URI = process.env.REACT_APP_GOOGLE_OPEN_ID_CONNECT_REDIRECT_URI;\n\nexport const REACT_APP_TWITTER_OAUTH_ENDPOINT = process.env.REACT_APP_TWITTER_OAUTH_ENDPOINT;\n\nexport const REACT_APP_GATAG_ID = process.env.REACT_APP_GATAG_ID;\n\nexport const CONTACT_EMAIL = process.env.REACT_APP_CONTACT_EMAIL;\nexport const GIT_REPOSITORY_URL = process.env.REACT_APP_GIT_REPOSITORY_URL;\n\nexport const QUESTION_SIZE = 8;\n\nexport const SVG_WIDTH = 724;\nexport const SVG_HEIGHT = 500;\n\nexport const AUTOMATON_ANIMATION_DURATION = 1.4;\n\nexport const MAX_STATE_LENGTH = 6;\n","import axiosBase from 'axios';\nimport * as Constant from '../constant';\n\n\nexport default axiosBase.create({\n  baseURL: Constant.API_ENDPOINT,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  withCredentials: true,\n  responseType: 'json'\n});","import baseApi from './base-service'\n\n\nexport async function getUser() {\n  try {\n    const res = await baseApi.get(`/user/current_user`);\n    return res.data;\n  } catch (error) {\n    return null;\n  }\n}\n\nexport async function deleteUser() {\n  try {\n    const res = await baseApi.post(`/user/delete/current_user`);\n    return res.data;\n  } catch (error) {\n    // return null;\n  }\n}\n\nexport async function saveAutomaton(questionId, automaton) {\n  try {\n    const res = await baseApi.post(`/user/save_automaton/${questionId}`,\n      automaton);\n    return res.data;\n  } catch (error) {\n  }\n}\n\nexport async function loadAutomaton(questionId) {\n  try {\n    const res = await baseApi.get(`/user/load_automaton/${questionId}`);\n    return res.data;\n  } catch (error) {\n    return null;\n  }\n}","import baseApi from './base-service'\nimport * as Constant from '../constant'\nimport {useEffect, useState} from \"react\";\n\nexport function getGoogleAuthorizationUrl(state) {\n\n  let params = new URLSearchParams({\n    response_type: 'code',\n    client_id: Constant.GOOGLE_CLIENT_ID,\n    scope: 'openid profile',\n    redirect_uri: Constant.GOOGLE_OPEN_ID_CONNECT_REDIRECT_URI,\n    state: state\n  });\n  let url = `${Constant.GOOGLE_OPEN_ID_CONNECT_ENDPOINT}?${params.toString()}`;\n  return url;\n}\n\nexport async function getState() {\n  try {\n    const res = await baseApi.get(`/get_state`)\n    console.debug(res)\n    return res.data;\n  } catch (error) {\n    console.debug(error);\n  }\n}\n\nexport async function getTwitterToken() {\n  try {\n    const res = await baseApi.get(`/get/twitter_token`);\n    console.debug(res)\n    return res.data;\n  } catch (error) {\n    console.debug(error);\n  }\n}\n\nexport function getTwitterAuthorizationUrl(token) {\n  try {\n    let params = new URLSearchParams({\n      oauth_token: token\n    });\n    let url = `${Constant.REACT_APP_TWITTER_OAUTH_ENDPOINT}?${params.toString()}`;\n    return url;\n  } catch (error) {\n    console.debug(error);\n  }\n}\n\n\nexport async function logout() {\n  try {\n    const res = await baseApi.get(`/logout`);\n    return res.data;\n  } catch (error) {\n    console.log(error);\n  }\n}","import * as React from \"react\";\nimport * as styles from \"./Header.module.scss\";\nimport UserContext from \"../context/UserContext\";\nimport {useTranslation} from \"react-i18next\";\nimport Button from \"@material-ui/core/Button\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Popper from \"@material-ui/core/Popper\";\nimport Grow from \"@material-ui/core/Grow\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Paper from \"@material-ui/core/Paper\";\nimport * as UserService from '../service/user-service';\nimport * as LoginService from '../service/login-service';\nimport {Dialog} from \"@material-ui/core\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Container from \"@material-ui/core/Container\";\nimport {Link} from \"react-router-dom\";\n\nfunction Header(props) {\n\n  const user = React.useContext(UserContext);\n  const {t, i18n} = useTranslation();\n\n  const [open, setOpen] = React.useState(false);\n  const [dialogOpen, setDialogOpen] = React.useState(false);\n  const anchorRef = React.useRef(null);\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n    setOpen(false);\n  };\n\n  const LoginButton = () =>\n    <Button onClick={() => props.setShowLoginModal(show => !show)}\n            style={{background: 'white'}} variant=\"outlined\">{t('header.login')}</Button>;\n\n  const UserProfile = () => (\n    <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleToggle}\n            ref={anchorRef}\n            style={{background: 'white', width: '70%'}} variant=\"outlined\">\n      {user.displayName}\n    </Button>\n  );\n\n  const ProfileMenu = () => (\n    <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\n      {({TransitionProps, placement}) => (\n        <Grow\n          {...TransitionProps}\n          style={{transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'}}\n        >\n          <Paper elevation={3}>\n            <ClickAwayListener onClickAway={handleClose}>\n              <MenuList autoFocusItem={open} id=\"menu-list-grow\">\n                <MenuItem onClick={logout}>{t('header.logout')}</MenuItem>\n                <MenuItem onClick={confirmRemoveAccount}>{t('header.removeAccount')}</MenuItem>\n              </MenuList>\n            </ClickAwayListener>\n          </Paper>\n        </Grow>\n      )}\n    </Popper>\n  );\n\n  const RemoveAccountDialog = () => (\n    <Dialog open={dialogOpen} onClose={() => setDialogOpen(false)}>\n      <DialogTitle>{t('header.removeAccountDialog.title')}</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          {t('header.removeAccountDialog.message')}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => setDialogOpen(false)} color=\"default\">\n          {t('header.cancel')}\n        </Button>\n        <Button onClick={removeAccount} variant=\"contained\" color=\"secondary\">\n          {t('header.removeAccount')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n\n  const logout = async () => {\n    handleToggle();\n    await LoginService.logout();\n    window.location.reload(false);\n  }\n\n  const confirmRemoveAccount = () => {\n    handleToggle();\n    setDialogOpen(true);\n  }\n\n  const removeAccount = async () => {\n    setDialogOpen(false);\n    await UserService.deleteUser();\n    window.location.reload(false);\n  }\n\n  let profileArea = user && user.id ? UserProfile : LoginButton;\n\n  return (\n    <Container maxWidth=\"lg\" style={{padding: '0px', background: 'hotpink'}}>\n\n      <Grid container alignItems=\"center\" justify=\"center\"\n            style={{borderRadius: '5px', margin: '0 auto 0 auto', maxWidth: '1000px'}}>\n        <Grid item sm={9} style={{textAlign: 'center'}}>\n          <div style={{margin: '20px 0px'}}>\n            <Link to=\"/\" style={{textDecoration: 'none'}}>\n              <span className={styles.header}>{t('appTitle')}</span>\n            </Link>\n          </div>\n        </Grid>\n        <Grid item sm={3} style={{'textAlign': 'center', paddingRight: '20px'}}>\n          {/*{profileArea()}*/}\n          {/*{ProfileMenu()}*/}\n          {/*{RemoveAccountDialog()}*/}\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n\nexport default Header;\n","import React, {useEffect} from \"react\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport UserContext from \"../context/UserContext\";\nimport * as R from \"ramda\";\nimport * as style from \"./Home.module.scss\";\nimport Button from \"@material-ui/core/Button\";\nimport {Trans, useTranslation} from \"react-i18next\";\nimport * as Constant from \"../constant\";\n\n\nfunction Home() {\n\n  const user = React.useContext(UserContext);\n  const history = useHistory();\n  const {t, i18n} = useTranslation();\n\n  const ITEM_LIST = [\n    {iconClass: 'far fa-lightbulb'},\n    {iconClass: 'fas fa-mouse'},\n    {iconClass: 'far fa-keyboard'},\n    {iconClass: 'fas fa-gamepad'},\n    {iconClass: 'fas fa-mobile-alt'},\n    {iconClass: 'fas fa-laptop'},\n    {iconClass: 'fas fa-fighter-jet'},\n    {iconClass: 'fas fa-robot'},\n  ];\n\n  useEffect(() => {\n    document.title = t('home.title');\n    window.gtag('config', Constant.REACT_APP_GATAG_ID);\n  }, []);\n\n\n  const PassedStatusIcon = props => {\n    let statusIcon = props.passed ? 'fas' : 'far';\n    return (\n      <i className={`${statusIcon} fa-heart`}\n         style={{'fontSize': '25px', 'float': 'right', 'color': 'hotpink'}}></i>\n    );\n  }\n\n  const QuestionItem = props => {\n    let passed = false;\n    if (user && user.testResultList) {\n      passed = R.any(s => s.questionId == props.questionId && s.passed)(user.testResultList)\n    }\n    let passedStatusIcon = <PassedStatusIcon passed={passed}></PassedStatusIcon>\n\n    return (\n      <Card style={{background: '#FFEEF3'}} className={style.questionItem}>\n        <CardContent style={{textAlign: \"center\", overflow: 'hidden'}}>\n          <div style={{display: 'block', float: 'right'}}>{passedStatusIcon}</div>\n          <div style={{display: 'block', clear: 'right', paddingTop: '6px'}}>\n            <i className={props.iconClass} style={{'fontSize': '45px'}}></i>\n          </div>\n          <Typography color=\"textSecondary\" gutterBottom style={{marginTop: '13px'}}>\n            <span style={{fontSize: '1.2rem'}}>{props.title}</span>\n          </Typography>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const questionList = ITEM_LIST.map((v, i) => {\n    return (\n      <Grid item sm={3} key={i + 1}>\n        <Link to={`/play/${i + 1}`} style={{textDecoration: 'none'}}>\n          <QuestionItem title={`${t('home.questionPrefix')} ${i + 1}`} iconClass={v.iconClass}\n                        questionId={i + 1}></QuestionItem>\n        </Link>\n      </Grid>\n    );\n  });\n\n  return (\n    // <>\n    <Grid container spacing={0} style={{padding: '15px 0px 20px', marginTop: '0.5px'}}>\n      <Grid item sm={12}>\n        <Grid container alignItems=\"center\" justify=\"center\" spacing={1}\n              style={{\n                padding: '30px 14px 8px', background: 'white', borderRadius: '5px',\n                maxWidth: '1000px', margin: '0 auto 0 auto'\n              }}>\n          <Grid item sm={12} style={{textAlign: 'center'}}>\n            <div style={{maxWidth: '540px', margin: '20px auto 38px auto', textAlign: 'center'}}>\n              <div>\n                <p style={{fontSize: '1.5rem'}}>{t('home.welcomeTitle')}</p>\n                <Trans i18nKey=\"home.welcomeMessage\"/>\n              </div>\n            </div>\n          </Grid>\n          <Grid item sm={4} style={{textAlign: 'center'}}>\n            <Button onClick={() => history.push('/automaton_guide')} variant=\"outlined\"\n                    style={{width: \"220px\", height: \"50px\"}}>\n              {t('home.aboutAutomaton')}\n            </Button>\n          </Grid>\n          <Grid item sm={4} style={{textAlign: 'center'}}>\n            <Button onClick={() => history.push('/play_guide')} variant=\"outlined\"\n                    style={{width: \"220px\", height: \"50px\"}}>\n              {t('home.howToPlay')}\n            </Button>\n          </Grid>\n          <Grid container spacing={3} alignItems=\"center\" style={{margin: '28px 0px 5px', padding: '5px 0px 0px'}}>\n            {questionList}\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n    // </>\n  );\n}\n\nexport default Home;","import * as React from \"react\";\nimport * as style from \"./SequenceNav.module.scss\";\nimport {useTranslation} from \"react-i18next\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {prop} from \"ramda\";\nimport * as R from \"ramda\";\n\nfunction SequenceNav(props) {\n\n  const {t, i18n} = useTranslation();\n\n  const renderAcceptList = () => {\n    return props.sequenceList.filter(s => s.accept).map(s => {\n      let styles = getStyle(s.id);\n      let displayValue = getDisplayValue(s.id);\n      return (\n        <ListItem key={s.value} dense className={styles.className}>\n          <ListItemIcon>\n            <i className={styles.icon}></i>\n          </ListItemIcon>\n          <ListItemText id={s.id} primary={displayValue}/>\n        </ListItem>\n      );\n    })\n  }\n\n  const renderRejectList = () => {\n    return props.sequenceList.filter(s => !s.accept).map(s => {\n      let styles = getStyle(s.id);\n      let displayValue = getDisplayValue(s.id);\n      return (\n        <ListItem key={s.value} role={undefined} dense className={styles.className}>\n          <ListItemIcon>\n            <i className={styles.icon}></i>\n          </ListItemIcon>\n          <ListItemText id={s.id} primary={displayValue}/>\n        </ListItem>\n      );\n    })\n  }\n\n  const getStyle = (id) => {\n    let s = props.sequenceStatusList.find(s => s.id === id);\n\n    if (!s) {\n      return {icon: 'far fa-circle', className: ''};\n    }\n\n    let status = s.status;\n\n    if (status === 'success') {\n      return {icon: 'far fa-check-circle', className: style.bgSuccess};\n    } else if (status === 'failed') {\n      return {icon: 'far fa-times-circle', className: style.bgFailed};\n    } else if (status === 'playing') {\n      return {\n        icon: 'far fa-play-circle ' + style.playingAnimation, className: style.bgPlaying\n      };\n    } else {\n      return {icon: 'far fa-circle', className: ''};\n    }\n  }\n\n  const getDisplayValue = (id) => {\n    let s = props.sequenceList.find(s => s.id === id);\n    let ss = props.sequenceStatusList.find(ss => ss.id === id);\n\n    if (s.masked === true && (!ss || ss.status === 'none')) {\n      if (s.value === '') {\n        return '???';\n      } else {\n        return R.join('', R.repeat('?', s.value.length));\n      }\n    } else {\n      if (s.value === '') {\n        return t('sequenceNav.emptyString');\n      } else {\n        return s.value;\n      }\n    }\n  }\n\n  return (\n    <Paper elevation={3} style={{padding: '8px 3px 3px 10px', marginTop: '15px'}}>\n      <div style={{margin: \"10px 6px 0px\"}}>\n        <p style={{\n          marginBlockStart: \"0px\",\n          marginBlockEnd: \"0px\",\n          fontSize: \"1.2rem\",\n        }}>{t('sequenceNav.acceptingString')}</p>\n        <List style={{}}>\n          {renderAcceptList()}\n        </List>\n      </div>\n      <div style={{margin: \"8px 6px 0px\"}}>\n        <p style={{\n          marginBlockStart: \"0px\",\n          marginBlockEnd: \"0px\",\n          fontSize: \"1.2rem\",\n        }}>{t('sequenceNav.notAcceptingString')}</p>\n        <List>\n          {renderRejectList()}\n        </List>\n      </div>\n    </Paper>\n  );\n}\n\nexport default SequenceNav;","import * as React from \"react\";\nimport \"./ActionBar.module.scss\";\nimport * as R from \"ramda\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport {useTranslation} from \"react-i18next\";\n\nfunction QuestionArea(props) {\n\n  const {t, i18n} = useTranslation();\n\n  return (\n    <Grid container spacing={0}>\n      <Grid item sm={12}>\n        <Paper elevation={1} style={{padding: '5px 0px 7px 0px', textAlign: 'center'}}>\n          <p style={{textAlign: 'left', display: 'inline-block'}}>\n            <span style={{fontSize: '1.4rem', display: 'inline-block'}}>{props.questionText}</span><br/>\n            <span style={{margin: \"9px 0px 0px 1px\", display: 'inline-block', fontSize: '1.1rem'}}>\n              {t('questionArea.inputSequences')}\n              {'{'} {R.join(', ')(props.allowInputs)} {'}'}\n            </span>\n          </p>\n        </Paper>\n      </Grid>\n    </Grid>\n  );\n\n}\n\nexport default QuestionArea;","import * as React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport Grid from \"@material-ui/core/Grid\";\nimport AutomatonImage1 from \"../images/automaton.png\"\nimport ElevatorImage from \"../images/elevator.png\"\nimport AutoDoorImage from \"../images/auto_door.png\"\nimport M1_101Gif from \"../images/automaton_101.gif\"\nimport NoLabelImage from \"../images/no_label.png\"\nimport DuplicateLabelImage from \"../images/duplicate_label.png\"\nimport MultiLabelImage from \"../images/multi_label.png\"\nimport {useHistory} from \"react-router-dom\";\nimport * as style from \"./AutomatonGuide.module.scss\";\nimport Button from \"@material-ui/core/Button\";\nimport {useEffect} from \"react\";\nimport * as Constant from \"../constant\";\n\nfunction AutomatonGuide(props) {\n\n  const {t, i18n} = useTranslation()\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = t('aboutAutomaton.title');\n    window.gtag('config', Constant.REACT_APP_GATAG_ID);\n  }, []);\n\n  const String = (props) => {\n    return <span className={style.string}> {props.children} </span>\n  }\n\n  return (\n    <Grid container style={{maxWidth: '1000px', margin: '0.5px auto 0px'}}>\n      <Grid item sm={12} style={{padding: \"20px 50px\", margin: \"15px 6px\", background: \"white\", borderRadius: '5px'}}>\n        <h1>オートマトンとは？</h1>\n\n        オートマトンとはなんでしょうか？<br/>\n\n        <p>\n          ひとことでいうと、計算機を抽象化したモデルです。<br/>\n          具体的には、内部に状態を持ち入力に応じて、状態を変化させる機械です！！\n        </p>\n\n        <p>\n          これだけですと、よくわからないですね。。<br/>\n          実際にオートマトンを見てみましょう！<br/>\n        </p>\n\n        <h2>身近なオートマトン</h2>\n        <p>\n          オートマトンという言葉は聞き慣れないかもしれません。<br/>\n          日常生活で目にするもののなかにも、オートマトンで表現できるものがあります。<br/>\n          例えば、エレベーターや自動ドアなどです。\n        </p>\n\n        <p>エレベーターのオートマトンからみてみましょう。</p>\n        <h3>\n          エレベーター(３階建て)のオートマトン\n        </h3>\n\n        <img src={ElevatorImage} alt=\"\"/>\n\n        <p>\n          いったん、オートマトンについて簡単に説明します！<br/>\n          オートマトンは状態、入力信号、遷移(矢印とラベル)から構成されています。<br/>\n        </p>\n\n        <ul className={style.list}>\n          <li>\n            <b>状態</b><br/>\n            オートマトンが持つ状態の集合です。<br/>\n            エレベーターの場合、各フロアが状態となります。 {'{'}<String>1F</String>,<String>2F</String>,<String>3F</String>{'}'}<br/>\n            上の図では、◯の中にフロアが表示されているものが状態です。\n          </li>\n          <li>\n            <b>入力信号</b><br/>\n            オートマトンに入力したときに状態を変化させる値の集合です。<br/>\n            エレベーターの場合、階数のボタンが入力信号となります。{'{'} <String>1</String>,<String>2</String>,<String>3</String>{'}'}<br/>\n            上の図では、矢印のラベル(文字)となるのが入力信号です。\n          </li>\n          <li>\n            <b>遷移</b><br/>\n            状態と入力信号から次に移動する状態を求める関数です。<br/>\n            エレベーターの場合、任意のフロアで任意のボタンを押したときに移動するフロアに相当します。<br/>\n            上の図では、矢印とそのラベルが遷移となります。<br/>\n            (具体例）\n            <ul className={style.list}>\n              <li>\n                <String>1F</String>で<String>2</String>のボタンを押した場合<br/>\n                <String>1F</String>から<String>2F</String>への矢印のラベルに<String>2</String>が表示されているので、<String>2F</String>に移動します。\n              </li>\n              <li>\n                <String>2F</String>で<String>2</String>のボタンを押した場合<br/>\n                <String>2F</String>から<String>2F</String>への矢印のラベルに<String>2</String>が表示されているので、<String>2F</String>に移動します。(そのまま)\n              </li>\n            </ul>\n          </li>\n        </ul>\n        <p>\n          このオートマトンの動きを確認してみましょう。<br/>\n        </p>\n        <String>1F</String>から開始して、<String>3</String><String>1</String><String>2</String>の順番でボタンを押した場合を想定してみます。<br/>\n        <ol className={style.list}>\n          <li>\n            <String>1F</String>から開始します。\n          </li>\n          <li>\n            <String>3</String>が入力されました。<br/>\n            <String>1F</String>から<String>3F</String>への矢印のラベルに<String>3</String>が表示されているので、<String>3F</String>に移動します。\n          </li>\n          <li>\n            <String>1</String>が入力されました。<br/>\n            <String>3F</String>から<String>1F</String>への矢印のラベルに<String>1</String>が表示されているので、<String>1F</String>に移動します。\n          </li>\n          <li>\n            <String>2</String>が入力されました。<br/>\n            <String>1F</String>から<String>2F</String>への矢印のラベルに<String>2</String>が表示されているので、<String>2F</String>に移動します。\n          </li>\n        </ol>\n        <p>\n          オートマトンでエレベーターの動作を表現できていますね！<br/>\n          今回の例は状態と入力信号が１対１で対応してるので、利点がわかりにくかったかもしれません。<br/>\n        </p>\n        <p>\n          以下の流れがイメージできていれば大丈夫です。<br/>\n          開始状態→入力信号を受け取る→遷移に従って状態を移動する→入力信号を受け取る→遷移に従って状態を移動する ... <br/>\n          これを入力信号がなくなるまで繰り返します。<br/>\n          ポイントは、オートマトンは状態を保持しながら、移動を繰り返すことができるという点です。\n        </p>\n        <p>\n          自動ドアのオートマトンもみてみましょう。\n        </p>\n        <h3>\n          自動ドアのオートマトン\n        </h3>\n        <img src={AutoDoorImage} alt=\"\"/>\n        <ul className={style.list}>\n          <li>\n            <b>状態</b><br/>\n            ドアの開閉が状態となります。 {'{'}<String>閉</String>,<String>開</String>{'}'}<br/>\n          </li>\n          <li>\n            <b>入力信号</b><br/>\n            今回は4種類の入力を想定します。<br/>\n            {'{'}<String>前 (前方に人がいる)</String>,<String>後 (後方に人がいる)</String>,<String>両方 (前後に人がいる)</String>,<String>無\n            (人がいない)</String>{'}'}<br/>\n          </li>\n          <li>\n            <b>遷移</b><br/>\n            ドアの開閉状態と入力信号によって、ドアの状態がどちらに変化するかに相当します。<br/>\n            (具体例）\n            <ul className={style.list}>\n              <li>\n                ドアが閉まっているときに、前方から人が現れた場合<br/>\n                <String>閉</String>から<String>開</String>への矢印のラベルに<String>前</String>が表示されているので、<String>開</String>に移動します。\n              </li>\n              <li>\n                ドアが開いているときに、前方と後方から人が現れた場合<br/>\n                <String>開</String>から<String>開</String>への矢印のラベルに<String>両方</String>が表示されているので、<String>開</String>に移動します。(そのまま)\n              </li>\n              <li>\n                ドアが開いているときに、ドアから人が立ち去った場合<br/>\n                <String>開</String>から<String>閉</String>への矢印のラベルに<String>無</String>が表示されているので、<String>閉</String>に移動します。\n              </li>\n            </ul>\n          </li>\n        </ul>\n        <p>\n          オートマトンの動作はイメージできましたか？？<br/>\n          次に有限オートマトンについてみてきます。\n        </p>\n\n        <h2>有限オートマトン</h2>\n        <p>\n          有限オートマトンは、オートマトンをより厳密に定義したものです。<br/>\n        </p>\n        <h3>有限オートマトン M<sub>1</sub>の図</h3>\n        <img src={AutomatonImage1} alt=\"\"/>\n\n        <h3>有限オートマトンの構成</h3>\n        <p>\n          有限オートマトンは<b>状態</b>と<b>アルファベット</b>、<b>遷移</b>から構成されています。<br/>\n          これまで説明してきたオートマトンとの大きな違いは、以下の２点です。<br/>\n        </p>\n        <ul>\n          <li>状態は、\"受理状態\"と\"そうでない状態\"の２種類しかない</li>\n          <li>入力の集合の呼び方が\"入力信号\"→\"アルファベット\"になった</li>\n        </ul>\n        <p>\n          それぞれ順にみていきます。\n        </p>\n\n        <ul className={style.list}>\n          <li>\n            <b>状態</b><br/>\n            状態には、受理状態(記号が◎)とそうでない状態(記号が◯)の2種類があります。<br/>\n            また、開始時の状態を開始状態といいます。<br/>\n            オートマトンM<sub>1</sub>の状態は、{'{'}<String>A</String>,<String>B</String>{'}'}です。<br/>\n            <String>B</String>が受理状態で、<String>A</String>が受理状態ではありません。<br/>\n            また、<String>A</String>が開始状態となります。\n          </li>\n          <li>\n            <b>アルファベット</b><br/>\n            入力される文字の集合です。<br/>\n            <b>※ここでいうアルファベットは、ローマ字のアルファベットのことではありません。</b><br/>\n            オートマトンM<sub>1</sub>では、{'{'}<String>0</String>,<String>1</String>{'}'}です。\n          </li>\n          <li>\n            <b>遷移</b><br/>\n            状態と入力文字から次に移動する状態を決定する関数です。<br/>\n            上の図では、矢印とそのラベルが遷移となります。\n          </li>\n        </ul>\n\n        <h3>有限オートマトンの動作</h3>\n\n        <p>\n          まず、以下の用語について説明します。\n        </p>\n        <ul className={style.list}>\n          <li>\n            入力文字列<br/>\n            アルファベットの文字を組み合わせた文字列で、これをオートマトンに入力します。<br/>\n            例）アルファベットが {'{'}<String>0</String>,<String>1</String>,<String>2</String>{'}'} の場合の入力文字列<br/>\n            <String>1012</String>,<String>1</String>,<String>0002</String>,<String>1111</String>,<String>1011</String>,<String>1002</String>,<String>2210</String>,\n            ...\n          </li>\n          <li>\n            読み出す<br/>\n            入力文字列を左から１文字取り出して、オートマトンに入力することを意味します。\n          </li>\n        </ul>\n        <p>\n          早速、有限オートマトンの動きをみていきましょう。<br/>\n          開始状態から、入力文字列を1文字読み出して、その文字をラベルとする遷移に従って次の状態に移動します。<br/>\n          「移動した状態から、残りの入力文字列を1文字読み出して、次の状態に移動すること」を繰り返します。<br/>\n          すべての文字を読み出して、最後に移動したのが受理状態であれば、入力文字列を受理します。<br/>\n          受理状態でない場合、入力文字列を拒否します。<br/>\n        </p>\n\n        <p>\n          文章だけだとイメージしにくいので、オートマトンのアニメーションをみていきましょう！\n        </p>\n        <p>\n          オートマトンM<sub>1</sub>に<String>101</String>を入力した場合<br/>\n        </p>\n        <ol className={style.list}>\n          <img src={M1_101Gif} alt=\"\"/>\n          <li>\n            <String>A</String>から開始します。\n          </li>\n          <li>\n            入力文字列(<String>101</String>)の左から1文字目(<String>1</String>)を読み出します。<br/>\n            <String>A</String>から<String>B</String>の矢印のラベルに<String>1</String>が表示されているので、<String>B</String>へ移動します。\n          </li>\n          <li>\n            残り文字列(<String>01</String>)の左から1文字目(<String>0</String>)を読み出します。<br/>\n            <String>B</String>から<String>A</String>の矢印のラベルに<String>0</String>が表示されているので、<String>A</String>へ移動します。\n          </li>\n          <li>\n            残り文字列(<String>1</String>)の左から1文字目(<String>1</String>)を読み出します。<br/>\n            <String>A</String>から<String>B</String>の矢印のラベルに<String>1</String>が表示されているので、<String>B</String>へ移動します。\n          </li>\n          <li>\n            全ての入力文字列を読み終えました。<br/>\n            このとき、オートマトンM<sub>1</sub>は受理状態にあるので、<String>101</String>を受理します。\n          </li>\n        </ol>\n\n        <p>\n          有限オートマトンの動きがイメージできましたか？？<br/>\n          以下の流れが理解できれば、大丈夫です。<br/>\n          開始状態からスタート→1文字読み出す→次の状態に移動する→1文字読み出す→次の状態に移動する→…→最後の1文字を読み出す→次の状態に移動する→受理 or 拒否 を出力\n        </p>\n\n        <h3>有限オートマトンのルール</h3>\n\n        <p>\n          有限オートマトンつくるには、そのルールを理解しておく必要があります。<br/>\n          早速、有限オートマトンのルールを説明していきます。<br/>\n          ここから若干難しくなってくるので、全集中の呼吸で臨みましょう！！\n        </p>\n\n        <ol className={style.list}>\n          <li>\n            開始状態は１つであること<br/>\n            状態のうち１つは開始状態でなければなりません。\n          </li>\n          <li>\n            受理状態は０個以上であること<br/>\n            以下の場合も、有効な有限オートマトンです。<br/>\n            <ul>\n              <li>受理状態が０個</li>\n              <li>すべての状態が受理状態</li>\n            </ul>\n            また、開始状態を受理状態とすることも可能です。\n          </li>\n          <li>\n            遷移は入力文字に対して、ただ一つの次の状態を示すこと<br/>\n            以下の場合は、不正な有限オートマトンです。(アルファベットが {'{'}<String>0</String>,<String>1</String>{'}'} の場合)\n            <ul>\n              <li>\n                入力文字に対する遷移がない<br/>\n                <String>A</String>で、<String>1</String>を読み出したときの遷移がなく、次の状態に移動できません。<br/>\n                <img src={NoLabelImage} alt=\"\"/>\n              </li>\n              <li>\n                入力文字に対する遷移が複数ある<br/>\n                <String>A</String>で、<String>1</String>を読み出したときの遷移が複数あり、どちらの遷移に従うか決定できません。<br/>\n                <img src={DuplicateLabelImage} alt=\"\"/>\n              </li>\n            </ul>\n            また、遷移のラベルに複数の文字を指定できます。(アルファベットが {'{'}<String>0</String>,<String>1</String>,<String>2</String>{'}'} の場合)<br/>\n            <ul>\n              <li>\n                遷移に複数の文字が指定されている<br/>\n                <String>A</String>で、<String>0</String>または<String>1</String>を読み出したときに、<String>A</String>に移動します。(同じ状態に戻ってくる)<br/>\n                <String>B</String>で、<String>0</String>または<String>1</String>を読み出したときに、<String>A</String>に移動します。<br/>\n                <img src={MultiLabelImage} alt=\"\"/>\n              </li>\n            </ul>\n          </li>\n        </ol>\n\n        <h3>有限オートマトンで表現できるもの</h3>\n        <p>\n          有限オートマトンのルールは理解できましたか？？<br/>\n          いったん、有限オートマトンについておさらいします。<br/>\n          有限オートマトンは入力文字列をすべて読み出すと、受理 or 拒否を出力します。<br/>\n        </p>\n        <p>\n          では、有限オートマトンによって、何を表現できるのでしょうか？<br/>\n          試しに、有限オートマトンM<sub>1</sub>に<String>101</String>以外の文字列も入力してみましょう！<br/>\n          入力する文字列：<String>01</String>,<String>0</String>,<String>111</String>,<String>100</String>,<String>0100</String><br/>\n          各文字列の出力結果をまとめると、↓のようになります。\n        </p>\n        <ul className={style.list}>\n          <li>\n            受理する文字列<br/>\n            <String>01</String>,<String>111</String>\n          </li>\n          <li>\n            拒否する文字列<br/>\n            <String>0</String>,<String>100</String>,<String>0100</String>\n          </li>\n        </ul>\n        <p>\n          おっと！？なんだか法則性が見えてきましたね！！<br/>\n          そうです！有限オートマトンM<sub>1</sub> は、「1で終わる文字列」を受理するオートマトンでした。<br/>\n          有限オートマトンによって、文字列のパターンを表現することができます。<br/>\n        </p>\n\n        {/*<h3>有限オートマトンの応用</h3>*/}\n        {/*<p>*/}\n        {/*  有限オートマトンで文字列のパターンを表現できることがわかりました。<br/>*/}\n        {/*  でも、これが何の役に立つというのでしょうか？<br/>*/}\n        {/*</p>*/}\n\n        <h2>あとがき</h2>\n        <p>\n          今回紹介した内容は、正式なオートマトンの定義ではありません。<br/>\n          もっとくわしく知りたい方は以下の書籍を読んでみてください。<br/>\n          <a href=\"https://www.kyoritsu-pub.co.jp/bookdetail/9784320122079\" target=\"_blank\">\n            計算理論の基礎 [原著第2版] 1.オートマトンと言語</a>\n        </p>\n        <p>\n          記載内容に誤りがありましたら、お問い合わせのメールアドレス宛にご連絡お願いいたします。\n        </p>\n\n\n        <h2>プレイ方法について</h2>\n        <p>\n          このページでは、オートマトンについての紹介を行ってきました。<br/>\n          読み進めるのが大変だったと思います。お疲れさまでした。。<br/>\n        </p>\n        <p>\n          このサイトのプレイ方法はシンプルです。<br/>\n          どのようなオートマトンをつくるのかお題を出します。<br/>\n          そのお題のオートマトンを実際につくってもらいます！<br/>\n        </p>\n        <p>\n          例えば以下のようなお題です。\n        </p>\n        <ul>\n          <li>\n            <String>0</String>から始まる文字列<br/>\n            アルファベット：{'{'}<String>0</String>,<String>1</String>{'}'}\n          </li>\n          <li>\n            <String>10</String>を含む文字列<br/>\n            アルファベット：{'{'}<String>0</String>,<String>1</String>,<String>2</String>{'}'}\n          </li>\n        </ul>\n        <p>\n          以下のリンクからくわしいプレイ方法をみていきましょう！\n        </p>\n        <Button onClick={() => history.push('/play_guide')} variant=\"outlined\"\n                color=\"default\">\n          プレイ方法をみる\n        </Button>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default AutomatonGuide;","import * as React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport PlayImage from \"../images/play_screen_structure.png\"\nimport CreateStateGif from \"../images/create_state.gif\"\nimport ChangeStateGif from \"../images/change_state.gif\"\nimport DeleteStateGif from \"../images/delete_state.gif\"\nimport CreateTransitionGif from \"../images/create_transition.gif\"\nimport CreateTransitionSelfGif from \"../images/create_transition_self.gif\"\nimport InputTransitionLabel from \"../images/input_transition_label.gif\"\nimport DeleteTransitionGif from \"../images/delete_transition.gif\"\nimport PlayGif from \"../images/play.gif\"\nimport Grid from \"@material-ui/core/Grid\";\nimport * as style from \"./PlayGuide.module.scss\";\nimport Button from \"@material-ui/core/Button\";\nimport {useHistory} from \"react-router-dom\";\nimport {useEffect} from \"react\";\nimport * as Constant from \"../constant\";\n\n\nfunction PlayGuide(props) {\n\n  const history = useHistory();\n  const {t, i18n} = useTranslation();\n\n  useEffect(() => {\n    document.title = t('playGuide.title');\n    window.gtag('config', Constant.REACT_APP_GATAG_ID);\n  }, []);\n\n  return (\n    <Grid container style={{maxWidth: '1000px', margin: '0.5px auto 0px'}}>\n      <Grid item sm={12} style={{padding: \"20px 50px\", margin: \"15px 6px\", background: \"white\", borderRadius: '5px'}}>\n        <h1>プレイ方法</h1>\n        <p>\n          前のページでは、オートマトンについて紹介しました。<br/>\n          今度は、実際にプレイ方法を見ていきます。<br/>\n        </p>\n        <p>\n          といっても、プレイ方法はシンプルです。<br/>\n          お題にあるオートマトンを作るだけです！<br/>\n        </p>\n\n        <p>\n          まずは、プレイ画面の画面構成からみていきます<br/>\n        </p>\n        <h2>画面構成</h2>\n        <img src={PlayImage} style={{width: \"70%\"}} alt=\"\"/>\n        <p>\n          プレイ画面は、以下の４つの欄で構成されています。<br/>\n        </p>\n        <ul className={style.numberPropertyList}>\n          <li>\n            &#9312;<b>お題</b><br/>\n            「どのようなオートマトンを作成するか」と「アルファベット」が表示されます。<br/>\n          </li>\n          <br/>\n          <li>\n            &#9313;<b>入力文字列</b><br/>\n            「受理する文字列」と「拒否する文字列」の一覧がそれぞれ表示されます。<br/>\n            回答ボタンをクリックしたときに、この文字列を作成したオートマトンに入力します。<br/>\n            長さが0の文字列は、「空文字」と表示されます。<br/>\n            また、難易度が高くなるにつれて、文字列はマスキングした状態で表示されます。\n          </li>\n          <br/>\n          <li>\n            &#9314;<b>操作ボタン</b><br/>\n            左から順に<br/>\n            「プレイ方法」・・・ダイアログが開いて、プレイ方法を確認できます。<br/>\n            「リセット」・・・作成したオートマトンをクリアして、初期表示時に戻します。<br/>\n            「保存」 (ログインユーザのみ)・・・作成したオートマトンを保存します。<br/>\n            「回答」・・・&#9313;入力文字列の文字列を順に読み出して、オートマトンが正しいかテストします。<br/>\n            「中止」・・・回答アニメーションを中止します。<br/>\n          </li>\n          <br/>\n          <li>\n            &#9315;<b>オートマトン描画</b><br/>\n            ここにオートマトンを描画します。<br/>\n            初期表示時は、開始状態のみ作成済みとなっています。\n          </li>\n        </ul>\n        <p>\n          次に実際のプレイ手順を確認していきます。\n        </p>\n        <h2>プレイ手順</h2>\n        <ol className={style.list}>\n          <li>\n            「お題」と「アルファベット」の確認<br/>\n            まず、画面上のお題の欄を確認して、どのようなオートマトンをつくるか理解しておきます。\n          </li>\n          <li>\n            入力文字列の確認<br/>\n            画面左にある「受理する文字列」と「拒否する文字列」を確認します。<br/>\n            事前にどのような文字列が入力されるかを把握しておきます。<br/>\n            オートマトンをつくりながら<br/>\n            <ul>\n              <li>\n                受理する文字列の場合<br/>\n                入力文字列を読み終えたときに受理状態にあること\n              </li>\n              <li>\n                拒否する文字列の場合<br/>\n                入力文字列を読み終えたときに受理状態にないこと\n              </li>\n            </ul>\n            を確認していきます。<br/>\n            ※オートマトンは、お題の情報だけで作成可能です。\n          </li>\n          <li>\n            オートマトンの作成<br/>\n            お題と入力文字列を確認が終わったら、実際にオートマトンを作っていきます。<br/>\n            オートマトンの作成方法は後述します。\n          </li>\n          <li>\n            回答ボタンを押して、オートマトンが正しいか確認する<br/>\n            オートマトンの作成が完了したら、回答ボタンを押します。<br/>\n            回答のアニメーションがスタートして、画面左の入力文字列を順に読み出していきます。<br/>\n            すべての入力文字列の出力結果が正しければ、クリアのダイアログが表示されます！！<br/>\n            文字列の出力結果に誤りがあった場合、その文字列の背景が赤くなります。\n          </li>\n        </ol>\n        <p>\n          プレイ手順はイメージできましたか？<br/>\n          オートマトンの作成方法を紹介する前に、いったんプレイ動画をみてみましょう！\n        </p>\n\n        <h2>プレイ動画</h2>\n        <img src={PlayGif} style={{width: \"70%\"}} alt=\"\"/>\n\n        <h2>オートマトンの作成方法</h2>\n        <p>\n          <span style={{paddingLeft: '1rem'}}>\n            ※タブレットをご利用の場合、各操作を以下に読み替えてください。</span>\n        </p>\n        <ul style={{margin: '0.5rem 0 1rem', listStyleType: 'circle'}}>\n          <li>「クリック」→「タップ」</li>\n          <li>「ダブルクリック」→「ダブルタップ」</li>\n          <li>「右クリック」→「ロングタッチ(長押し)」</li>\n        </ul>\n        <ul>\n          <li>\n            <b>状態を追加する</b><br/>\n            任意のクリックした場所に、状態が作成されます。<br/>\n            <b>※プレイ画面で、作成できる状態は6個までです。</b><br/>\n            <img src={CreateStateGif} alt=\"\"/>\n          </li>\n          <li>\n            <b>状態を受理状態にする／受理状態を元の状態に戻す</b><br/>\n            状態にカーソルをのせて、右クリックをします。<br/>\n            メニューが表示されるので「変更」をクリックします。<br/>\n            受理状態にカーソルをのせて、右クリック→「変更」で元の状態に戻すことができます。<br/>\n            <img src={ChangeStateGif} alt=\"\"/>\n          </li>\n          <li>\n            <b>状態を削除する</b><br/>\n            状態にカーソルをのせて、右クリックをします。<br/>\n            メニューが表示されるので「削除」をクリックします。<br/>\n            <img src={DeleteStateGif} alt=\"\"/>\n          </li>\n          <li>\n            <b>遷移を追加する</b><br/>\n            遷移の追加方法には以下の２種類があります。<br/>\n            <ul className={style.numberPropertyList}>\n              <li>\n                &#9312;遷移先と遷移元が異なる場合<br/>\n                遷移元の状態をクリックして、選択します。(輪郭がハイライトされます)<br/>\n                その後、遷移先の状態をクリックします。<br/>\n                <img src={CreateTransitionGif} alt=\"\"/>\n              </li>\n              <li>\n                &#9313;遷移先と遷移元が同じ場合<br/>\n                状態をダブルクリックします。<br/>\n                <img src={CreateTransitionSelfGif} alt=\"\"/>\n              </li>\n            </ul>\n          </li>\n          <li>\n            <b>遷移のラベルを入力する</b><br/>\n            遷移を追加すると、矢印の真ん中にテキストボックスが作成されます。<br/>\n            テキストボックスをクリックすると、カーソルが表示され文字を入力することができます。<br/>\n            複数の文字を入力する場合は、「,」で区切って入力します。<br/>\n            <img src={InputTransitionLabel} alt=\"\"/>\n          </li>\n          <li>\n            <b>遷移を削除する</b><br/>\n            遷移のテキストボックスにカーソルをのせて、右クリックをします。<br/>\n            メニューが表示されるので、「削除」をクリックします。<br/>\n            <img src={DeleteTransitionGif} alt=\"\"/>\n          </li>\n        </ul>\n\n        <h2>終わりに</h2>\n        <p>\n          お疲れさまです！<br/>\n          プレイ方法の紹介が終わりました。<br/>\n          {/*覚えることが多く大変だと思いますが、わからなくなっても立ち戻って確認していきましょう！<br/>*/}\n          早速、プレイしてみましょう！！Let's オートマトン！！<br/>\n        </p>\n        <Button onClick={() => history.push('/play/1')} variant=\"outlined\"\n                color=\"default\">\n          レベル１をプレイ\n        </Button>\n      </Grid>\n    </Grid>\n  );\n\n}\n\nexport default PlayGuide;","import * as React from \"react\";\nimport {useState} from \"react\";\nimport \"./ActionBar.module.scss\";\nimport {useTranslation} from \"react-i18next\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport UserContext from \"../context/UserContext\";\nimport {Dialog} from \"@material-ui/core\";\nimport {TabPanel} from '@material-ui/lab';\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport AutomatonGuide from \"./AutomatonGuide\";\nimport PlayGuide from \"./PlayGuide\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport TabContext from \"@material-ui/lab/TabContext\";\nimport TabList from \"@material-ui/lab/TabList\";\n\nfunction ActionBar(props) {\n\n  const {t, i18n} = useTranslation();\n  const user = React.useContext(UserContext);\n\n  const [tabValue, setTabValue] = useState('1');\n  const [openGuideDialog, setOpenGuideDialog] = useState(false);\n  const [openResetDialog, setOpenResetDialog] = useState(false);\n\n  const SaveButton = <Button variant=\"outlined\" color=\"primary\" onClick={props.onSave}\n                             style={{marginRight: '10px', width: '75px'}}>{t('actionBar.save')}\n  </Button>;\n\n  const GuideDialog = () => (\n      <Dialog maxWidth=\"md\" open={openGuideDialog} onClose={() => setOpenGuideDialog(false)}>\n        <DialogContent>\n          <Paper>\n            <TabContext value={tabValue}>\n              <AppBar position=\"static\" color=\"default\">\n                <TabList\n                  onChange={handleChangeTab}\n                  indicatorColor=\"primary\"\n                  textColor=\"primary\"\n                  aria-label=\"disabled tabs example\"\n                >\n                  <Tab label={t('home.aboutAutomaton')} value=\"0\"/>\n                  <Tab label={t('home.howToPlay')} value=\"1\"/>\n                </TabList>\n              </AppBar>\n              <TabPanel value=\"0\">\n                <AutomatonGuide/>\n              </TabPanel>\n              <TabPanel value=\"1\">\n                <PlayGuide/>\n              </TabPanel>\n            </TabContext>\n          </Paper>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpenGuideDialog(false)} variant=\"outlined\" color=\"default\">\n            {t('common.close')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    )\n  ;\n\n  const handleChangeTab = (event, newValue) => {\n    setTabValue(newValue);\n  }\n\n  const renderSaveButton = () => {\n    if (user) {\n      return SaveButton;\n    }\n    return null;\n  }\n\n  const onReset = () => {\n    setOpenResetDialog(false);\n    props.onReset();\n  }\n  const ResetDialog = () => (\n    <Dialog open={openResetDialog} onClose={() => setOpenResetDialog(false)}>\n      <DialogContent>\n        <DialogContentText>\n          {t('actionBar.resetDialog.message')}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => setOpenResetDialog(false)} color=\"default\">\n          {t('common.cancel')}\n        </Button>\n        <Button onClick={onReset} variant=\"contained\" color=\"secondary\">\n          {t('common.ok')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n\n  return (\n    <Grid container style={{padding: '8px'}}>\n      <Grid item sm={6}>\n        <Button variant=\"outlined\" color=\"default\" style={{margin: '0px 10px 0px 5px'}}\n                onClick={() => setOpenGuideDialog(true)}>\n          {t('actionBar.howToPlay')}\n        </Button>\n        <Button variant=\"outlined\" color=\"secondary\"\n                onClick={() => setOpenResetDialog(true)}>\n          {t('actionBar.reset')}\n        </Button>\n      </Grid>\n      <Grid item sm={6} style={{textAlign: 'right'}}>\n        <span>\n          {renderSaveButton()}\n          <Button variant=\"contained\" color=\"primary\" onClick={props.onTest}\n                  style={{marginRight: '10px', width: '75px'}} disabled={props.animationStart}>\n            {t('actionBar.test')}</Button>\n          <Button variant=\"contained\" color=\"secondary\" style={{marginRight: '7px', width: '75px'}}\n                  onClick={props.onCancel} disabled={!props.animationStart}>\n            {t('actionBar.stop')}\n          </Button>\n        </span>\n      </Grid>\n      <div>\n        {GuideDialog()}\n        {ResetDialog()}\n      </div>\n    </Grid>\n  );\n\n}\n\nexport default ActionBar;","export function rotate({x: cx, y: cy}, {x: px, y: py}, rad) {\n    let [ax, ay] = [px - cx, py - cy];\n    let [dx, dy] = [Math.cos(rad) * ax + Math.sin(rad) * ay, -Math.sin(rad) * ax + Math.cos(rad) * ay]\n    return {x: cx + dx, y: cy + dy};\n}\n\nexport function translation({x: ax, y: ay}, {x: px, y: py}, distance) {\n    let [_x, _y] = [px - ax, py - ay];\n    let d = Math.sqrt(Math.pow(_x, 2) + Math.pow(_y, 2));\n    let [dx, dy] = [distance / d * _x, distance / d * _y];\n    return {x: ax + dx, y: ay + dy};\n}\n\nexport function getIntersectionOnCircle({x: from_x, y: from_y}, {x: to_x, y: to_y}, r) {\n\n    let d = Math.sqrt(Math.pow(to_x - from_x, 2) + Math.pow(to_y - from_y, 2))\n\n    let cos = (to_x - from_x) / d\n    let sin = (to_y - from_y) / d\n\n    let [_x, _y] = [r * cos, r * sin]\n\n    return {\n        from: {\n            x: _x + from_x,\n            y: _y + from_y\n        },\n        to: {\n            x: to_x - _x,\n            y: to_y - _y\n        }\n    };\n}","import * as React from \"react\";\nimport {useEffect, useRef, useState} from \"react\";\nimport * as style from \"./Transition.module.scss\";\nimport {getIntersectionOnCircle, rotate, translation} from \"../lib/svg-math\";\nimport * as R from \"ramda\";\nimport TextField from \"@material-ui/core/TextField\";\nimport * as d3 from \"d3-selection\";\n\nfunction Transition(props) {\n\n  const INPUT_WIDTH_1CHAR = '26px';\n  const INPUT_WIDTH_2CHAR = '36px';\n  const INPUT_WIDTH_4CHAR = '46px';\n\n  const VALID_INPUT_PATTERN = /^(|[0-9a-z](,$|,[0-9a-z]){0,2})$/g\n\n  const [inputWidth, setInputWidth] = useState(INPUT_WIDTH_1CHAR);\n  const [inputText, setInputText] = useState(R.join(',', props.inputs));\n\n  useEffect(() => {\n    if (inputText.length < 2) {\n      setInputWidth(INPUT_WIDTH_1CHAR);\n    } else if (inputText.length < 4) {\n      setInputWidth(INPUT_WIDTH_2CHAR);\n    } else {\n      setInputWidth(INPUT_WIDTH_4CHAR);\n    }\n  }, [inputText]);\n\n  const calcPath = () => {\n    if (props.isSelf) {\n      let intersection = {x: props.to.x, y: props.to.y - 20};\n      let start = rotate(props.from, intersection, 0.2)\n      let end = rotate(props.from, intersection, -0.2)\n      let c1 = {x: start.x - 20, y: start.y - 30};\n      let c2 = {x: end.x + 20, y: end.y - 30};\n      return `M${start.x},${start.y}C${c1.x},${c1.y},${c2.x},${c2.y},${end.x},${end.y}`\n    } else {\n      let {from: _from, to: _to} = getIntersectionOnCircle(props.from, props.to, props.r);\n      let from = rotate(props.from, _from, 0.15);\n      let to = rotate(props.to, _to, -0.15);\n      return `M${from.x},${from.y}L${to.x},${to.y}`;\n    }\n  }\n\n  const calcInputCoordinate = () => {\n    if (props.isSelf) {\n      return {\n        x: props.to.x,\n        y: props.to.y - 60,\n      }\n    } else {\n      let t = {\n        x: (props.from.x + props.to.x) / 2,\n        y: (props.from.y + props.to.y) / 2\n      };\n      let r = rotate(t, props.to, Math.PI / 2);\n      return translation(t, r, 22);\n    }\n  }\n\n  const onChange = event => {\n\n    let inputText = event.target.value;\n\n    // 入力フォーマット誤り\n    if (!inputText.match(VALID_INPUT_PATTERN)) return;\n\n    let inputs = inputText.replace(/,$/, '').split(',');\n    if (!inputText) {\n      inputs = [];\n    }\n    // 重複文字あり\n    if (R.uniq(inputs).length !== inputs.length) return;\n\n    // 入力許可文字。入力重複チェック\n    if (!props.validateInputs(props.index, inputs)) return;\n\n    setInputText(inputText);\n    props.onChangeHandler(props.index, inputs);\n\n  }\n\n  const onFocus = () => {\n    d3.select(`#${props.id}`).raise();\n    // SVG要素の順序を更新した後に、テキストフィールドのフォーカスが外れるので、\n    // 再度フォーカスを当てる\n    d3.select(`#${props.id} input`).node().focus();\n  }\n\n  let {x, y} = calcInputCoordinate();\n  return (\n    <g id={props.id} name=\"transition\"\n       onContextMenu={e => props.contextMenuHandler(e, props.id, 'transition')}\n       onClick={e => e.stopPropagation()}\n       className={style.transition}>\n      <path id={props.id + \"_path\"} d={calcPath()} markerEnd={props.markerEnd}></path>\n      <foreignObject x={x - 15} y={y - 16}\n                     width={inputWidth}\n                     height='35px'\n                     id={'foreign_' + props.id}>\n        <TextField onClick={e => props.onInputClickHandler()} variant=\"outlined\" width={inputWidth}\n                   maxLength={5} onChange={onChange} value={inputText}\n                   onFocus={onFocus} type=\"tel\"/>\n      </foreignObject>\n    </g>\n  );\n\n\n}\n\nexport default Transition;","import * as React from \"react\";\nimport {useEffect} from \"react\";\nimport * as style from \"./State.module.scss\";\nimport {drag} from \"d3-drag\";\nimport {select} from \"d3-selection\";\nimport * as Constant from \"../constant\";\n\n\nfunction State(props) {\n\n  let clickCount = 0;\n\n  useEffect(() => {\n    let s = select(\"#\" + props.id);\n    let handler = drag().on(\"drag\", event => {\n      if (event.x < 0 || event.x > Constant.SVG_WIDTH\n          || event.y < 0 || event.y > Constant.SVG_HEIGHT) {\n        return;\n      }\n      props.updatePos(props.id, {x: event.x, y: event.y});\n    });\n    handler(s);\n  }, [props.states]);\n\n  const onClick = (event) => {\n    setTimeout(() => {\n      if (clickCount > 0) {\n        clickCount--;\n        return;\n      }\n      props.onClickHandler(props.id);\n    }, 250);\n    event.stopPropagation();\n  }\n\n  const onDoubleClick = () => {\n    clickCount = 2;\n    props.onDoubleClickHandler(props.id);\n  }\n\n  const renderAccept = () => {\n    if (props.accept) {\n      return <circle r=\"14\" cx={props.x} cy={props.y}></circle>;\n    }\n    return null;\n  }\n\n  const stateClass = () => {\n    if (props.acitve) {\n      return style.active;\n    } else {\n      return style.normal;\n    }\n  }\n\n  const renderStartTransition = () => {\n    if (props.id === 'stateId_0') {\n      return (\n        <path d={`M${props.x - 50},${props.y}L${props.x - 20},${props.y}`} id=\"transitionId_0_path\"\n              markerEnd=\"url(#triangle)\" stroke=\"#333333\" strokeWidth=\"2.5px\" style={{padding: '3px'}}\n              onClick={e => e.stopPropagation()}/>\n      );\n    }\n    return null;\n  }\n\n  return (\n    <g id={props.id} name=\"state\"\n       // className={props.getClassName}\n       onClick={onClick}\n       onDoubleClick={onDoubleClick}\n       onContextMenu={props.contextMenuHandler}\n       className={`${style.state} ${stateClass()}`}\n    >\n      <circle r=\"20\" cx={props.x} cy={props.y}>\n      </circle>\n      {renderAccept()}\n      {renderStartTransition()}\n    </g>\n  );\n\n}\n\nexport default State;","import * as React from \"react\";\nimport * as style from \"./ContextMenu.module.scss\"\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nfunction ContextMenu(props) {\n\n  const renderItems = () => {\n    return props.items.map(i => {\n      return (\n        <ListItem key={i.name} role={undefined} dense button\n                  onClick={e => props.itemClickHandler(e, i.name)} name={i.name} key={i.name}>\n          <ListItemText id={i.name} primary={i.displayText}/>\n        </ListItem>\n      );\n    });\n  };\n\n  const getPosition = () => {\n    return {\n      left: props.x,\n      top: props.y\n    }\n  }\n\n  if (!props.show) return null;\n\n  return (\n    <Paper elevation={4} onContextMenu={e => e.preventDefault()} style={getPosition()}\n           className={style.contextmenu}>\n      <List>\n        {renderItems()}\n      </List>\n    </Paper>\n  );\n\n}\n\nexport default ContextMenu;","import * as React from \"react\";\nimport * as Constant from \"../constant\";\n\n\nfunction SvgBase(props) {\n\n  const svgDom = React.createRef();\n\n  const onClick = (event) => {\n    let pt = svgDom.current.createSVGPoint();\n    pt.x = event.clientX;\n    pt.y = event.clientY;\n    let newPt = pt.matrixTransform(svgDom.current.getScreenCTM().inverse());\n    props.onClick({x: newPt.x, y: newPt.y});\n  };\n\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height={Constant.SVG_HEIGHT} width={'100%'} onClick={onClick}\n         ref={svgDom} style={{border: 'solid black 1px', maxWidth: `${Constant.SVG_WIDTH}px`}}\n         onContextMenu={e => e.preventDefault()}>\n      {props.children}\n    </svg>\n  )\n}\n\nexport default SvgBase;","import React, {useState} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport * as R from \"ramda\";\nimport Transition from \"./Transition\";\nimport State from \"./State\";\nimport ContextMenu from \"./ContextMenu\";\nimport SvgBase from \"./SvgBase\";\nimport * as Constant from \"../constant\";\n\n\nfunction AutomatonRender(props) {\n\n  const {t, i18n} = useTranslation();\n  const [selectedStateId, setSelectedState] = useState('');\n\n  const DEFAULT_CONTEXT_MENU_INFO = {show: false, x: 0, y: 0, items: []};\n  const [contextMenuInfo, setContextMenuInfo] = useState(DEFAULT_CONTEXT_MENU_INFO);\n\n  const STATE_CONTEXT_MENU_ITEMS = [\n    {'name': 'change', 'displayText': t('contextMenu.change')},\n    {'name': 'delete', 'displayText': t('contextMenu.delete')}\n  ];\n  const STATE_START_CONTEXT_MENU_ITEMS = [\n    {'name': 'change', 'displayText': t('contextMenu.change')},\n  ];\n  const TRANSITION_CONTEXT_MENU_ITEMS = [\n    {'name': 'delete', 'displayText': t('contextMenu.delete')}\n  ];\n\n  const renderStates = () => {\n    return props.states.map((s, index) => {\n      return <State\n        id={s.id} x={s.x} y={s.y}\n        key={s.id}\n        accept={s.accept}\n        acitve={s.id === selectedStateId}\n        onClickHandler={clickState}\n        onDoubleClickHandler={doubleClickState}\n        contextMenuHandler={showContextMenu('state', index)}\n        updatePos={updateStatePos}\n        states={props.states}\n        index={index}\n      ></State>\n    });\n  }\n\n  const updateStatePos = (stateId, {x, y}) => {\n    let index = R.findIndex(R.propEq('id', stateId))(props.states);\n    let updated = R.mergeRight(props.states[index], {x, y});\n    let states = R.update(index, updated, props.states);\n    setContextMenuInfo(DEFAULT_CONTEXT_MENU_INFO);\n    setSelectedState(stateId);\n    props.setStates(states);\n  }\n\n  const renderTransitions = () => {\n    return props.transitions.map((t, index) => {\n      let _from = props.states.filter(s => s.id === t.fromStateId)[0];\n      let from = {x: _from.x, y: _from.y};\n      let _to = props.states.filter(s => s.id === t.toStateId)[0];\n      let to = {x: _to.x, y: _to.y};\n      return <Transition key={t.id} id={t.id} isSelf={t.fromStateId === t.toStateId}\n                         from={from} to={to} r={20} markerEnd=\"url(#triangle)\"\n                         inputs={t.inputs}\n                         index={index}\n                         validateInputs={validateInputs}\n                         contextMenuHandler={showContextMenu('transition', index)}\n                         onChangeHandler={updateTransitionInputs}\n                         onInputClickHandler={closeContextMenu}\n      ></Transition>\n    })\n  }\n\n  const renderContextMenu = () => {\n    if (!contextMenuInfo.show) return null;\n    return (\n      <ContextMenu show={contextMenuInfo.show} items={contextMenuInfo.items}\n                   x={contextMenuInfo.x} y={contextMenuInfo.y}\n                   itemClickHandler={itemClick(contextMenuInfo.itemClickCallback)}/>\n    );\n  };\n\n  const getCount = () => {\n    props.setCount(c => c + 1);\n    return props.count;\n  };\n\n  const clickState = (stateId) => {\n    setContextMenuInfo(DEFAULT_CONTEXT_MENU_INFO);\n    if (selectedStateId === '') {\n      setSelectedState(stateId);\n    } else if (stateId === selectedStateId) {\n      setSelectedState('');\n    } else {\n      setSelectedState(stateId);\n\n      if (isTransitionDuplicate(selectedStateId, stateId)) return;\n\n      let transitions = props.transitions.concat({\n        id: `transitionId_${getCount()}`,\n        fromStateId: selectedStateId,\n        toStateId: stateId,\n        inputs: []\n      });\n      props.setTransitons(transitions);\n    }\n  }\n\n  const doubleClickState = (stateId) => {\n    setContextMenuInfo(DEFAULT_CONTEXT_MENU_INFO);\n\n    if (isTransitionDuplicate(stateId, stateId)) return;\n\n    let transitions = props.transitions.concat({\n      id: `transitionId_${getCount()}`,\n      fromStateId: stateId,\n      toStateId: stateId,\n      inputs: []\n    });\n    props.setTransitons(transitions);\n  }\n\n  const isTransitionDuplicate = (fromStateId, toStateId) => {\n    let predicate = R.where({\n      'fromStateId': R.equals(fromStateId),\n      'toStateId': R.equals(toStateId)\n    });\n    return R.any(predicate, props.transitions);\n  }\n\n  const clickSvg = ({x, y}) => {\n    if (contextMenuInfo.show) {\n      setContextMenuInfo(DEFAULT_CONTEXT_MENU_INFO);\n      return;\n    }\n    // 状態の個数が最大値の場合、状態を追加しない\n    if (props.states.length >= Constant.MAX_STATE_LENGTH) {\n      return;\n    }\n    let states = props.states.concat(\n      {\n        id: `stateId_${getCount()}`,\n        x: x,\n        y: y,\n        accept: false,\n      }\n    )\n    props.setStates(states);\n  }\n\n  const updateTransitionInputs = (index, inputs) => {\n    let updated = R.mergeRight(props.transitions[index], {inputs: inputs});\n    let newTransitions = R.update(index, updated, props.transitions);\n    props.setTransitons(newTransitions);\n  }\n\n  const validateInputs = (index, inputs) => {\n    if (R.union(props.allowInputs, inputs).length !== props.allowInputs.length) {\n      return false;\n    }\n    let fromStateId = props.transitions[index].fromStateId;\n    let id = props.transitions[index].id;\n    const predicate = R.where({\n      'fromStateId': R.equals(fromStateId),\n      'id': R.complement(R.equals(id)),\n      'inputs': v => R.intersection(v, inputs).length !== 0\n    });\n    if (R.any(predicate)(props.transitions))\n      return false;\n    return true\n  }\n\n  const showContextMenu = (name, index) => {\n    return (event) => {\n      let items;\n      if (name === 'state') {\n        if (index === 0) {\n          items = STATE_START_CONTEXT_MENU_ITEMS;\n        } else {\n          items = STATE_CONTEXT_MENU_ITEMS;\n        }\n      } else {\n        items = TRANSITION_CONTEXT_MENU_ITEMS;\n      }\n      let contextMenuInfo = {\n        show: true,\n        x: event.clientX,\n        y: event.clientY,\n        items: items,\n        itemClickCallback: name === 'state' ?\n          clickStateContextMenuItem(index) : clickTransitionContextMenuItem(index)\n      }\n      setContextMenuInfo(contextMenuInfo);\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  const closeContextMenu = () => {\n    setContextMenuInfo(DEFAULT_CONTEXT_MENU_INFO);\n  }\n\n  const itemClick = (callback) => {\n    return (event, itemName) => {\n      callback(itemName);\n      setSelectedState('');\n      setContextMenuInfo(DEFAULT_CONTEXT_MENU_INFO);\n      event.stopPropagation();\n    }\n  }\n\n  const clickStateContextMenuItem = index => {\n    return itemName => {\n      if (itemName === 'change') {\n        let updated = R.mergeRight(props.states[index],\n          {accept: !props.states[index].accept});\n        props.setStates(R.update(index, updated, props.states));\n      } else if (itemName === 'delete') {\n        let deleteStateId = props.states[index].id;\n        let transitions = R.filter(R.where(\n          {\n            'fromStateId': R.complement(R.equals(deleteStateId)),\n            'toStateId': R.complement(R.equals(deleteStateId))\n          }\n        ), props.transitions);\n        props.setTransitons(transitions);\n        props.setStates(R.remove(index, 1, props.states));\n      }\n    };\n  }\n\n  const clickTransitionContextMenuItem = index => {\n    return itemName => {\n      if (itemName === 'delete') {\n        props.setTransitons(R.remove(index, 1, props.transitions));\n      }\n    };\n  }\n\n  return (\n    <div style={{padding: '5px 10px 5px 8px'}}>\n      {renderContextMenu()}\n      <SvgBase onClick={clickSvg}>\n        <defs>\n          <marker id=\"triangle\" viewBox=\"0 0 10 10\"\n                  refX=\"10\" refY=\"5\"\n                  markerUnits=\"strokeWidth\"\n                  markerWidth=\"5\" markerHeight=\"5\"\n                  orient=\"auto\">\n            <path d=\"M 0 0 L 10 5 L 0 10\" fill=\"#333333\"/>\n          </marker>\n          <g id=\"state\">\n            <circle r=\"20\"></circle>\n          </g>\n          <g id=\"accept\">\n            <circle r=\"20\"></circle>\n            <circle r=\"15\"></circle>\n          </g>\n        </defs>\n        {renderStates()}\n        {renderTransitions()}\n        {props.animation()}\n      </SvgBase>\n    </div>\n  )\n\n}\n\n\nexport default AutomatonRender;","import baseApi from './base-service'\n\nexport async function getQuestion(questionId) {\n\n  try {\n    // const res = await baseApi.get(`/question/${questionId}`);\n    // 問題のリストから取得\n    const res = await questions.find(q => q.id === Number(questionId));\n    return res;\n  } catch (error) {\n  }\n\n}\n\nconst questions = [\n  {\n    \"allowInputs\": [\n      \"0\",\n      \"1\"\n    ],\n    \"id\": 1,\n    \"questionText\": \"0で終わる文字列\",\n    \"sequences\": [\n      {\n        \"accept\": true,\n        \"id\": 255,\n        \"masked\": false,\n        \"value\": \"0110\",\n      },\n      {\n        \"accept\": true,\n        \"id\": 256,\n        \"masked\": false,\n        \"value\": \"0\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 257,\n        \"masked\": false,\n        \"value\": \"100\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 258,\n        \"masked\": false,\n        \"value\": \"\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 259,\n        \"masked\": false,\n        \"value\": \"001\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 260,\n        \"masked\": false,\n        \"value\": \"1101\"\n      }\n    ],\n    \"title\": \"レベル１\"\n  },\n  {\n    \"allowInputs\": [\n      \"0\",\n      \"1\"\n    ],\n    \"id\": 2,\n    \"questionText\": \"1から始まる文字列\",\n    \"sequences\": [\n      {\n        \"accept\": true,\n        \"id\": 261,\n        \"masked\": false,\n        \"value\": \"1\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 262,\n        \"masked\": false,\n        \"value\": \"1001\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 263,\n        \"masked\": false,\n        \"value\": \"110\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 264,\n        \"masked\": false,\n        \"value\": \"\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 265,\n        \"masked\": false,\n        \"value\": \"0101\"\n      }\n    ],\n    \"title\": \"レベル２\"\n  },\n  {\n    \"allowInputs\": [\n      \"0\",\n      \"1\",\n      \"2\"\n    ],\n    \"id\": 3,\n    \"questionText\": \"1を含む文字列\",\n    \"sequences\": [\n      {\n        \"accept\": true,\n        \"id\": 266,\n        \"masked\": false,\n        \"value\": \"0210\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 267,\n        \"masked\": false,\n        \"value\": \"1\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 268,\n        \"masked\": true,\n        \"value\": \"102\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 269,\n        \"masked\": false,\n        \"value\": \"\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 270,\n        \"masked\": true,\n        \"value\": \"0220\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 271,\n        \"masked\": true,\n        \"value\": \"200\"\n      }\n    ],\n    \"title\": \"レベル３\"\n  },\n  {\n    \"allowInputs\": [\n      \"0\",\n      \"1\"\n    ],\n    \"id\": 4,\n    \"questionText\": \"文字列の長さが偶数である文字列(空文字の長さは0)\",\n    \"sequences\": [\n      {\n        \"accept\": true,\n        \"id\": 272,\n        \"masked\": false,\n        \"value\": \"10\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 273,\n        \"masked\": false,\n        \"value\": \"0110\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 274,\n        \"masked\": true,\n        \"value\": \"\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 275,\n        \"masked\": true,\n        \"value\": \"1011\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 276,\n        \"masked\": false,\n        \"value\": \"0\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 277,\n        \"masked\": true,\n        \"value\": \"101\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 278,\n        \"masked\": true,\n        \"value\": \"01001\"\n      }\n    ],\n    \"title\": \"レベル４\"\n  },\n  {\n    \"allowInputs\": [\n      \"0\",\n      \"1\"\n    ],\n    \"id\": 5,\n    \"questionText\": \"先頭の文字と末尾の文字が同じである文字列\",\n    \"sequences\": [\n      {\n        \"accept\": true,\n        \"id\": 279,\n        \"masked\": false,\n        \"value\": \"0\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 280,\n        \"masked\": false,\n        \"value\": \"1\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 281,\n        \"masked\": true,\n        \"value\": \"10011\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 282,\n        \"masked\": true,\n        \"value\": \"01000\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 283,\n        \"masked\": false,\n        \"value\": \"\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 284,\n        \"masked\": true,\n        \"value\": \"1000\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 285,\n        \"masked\": true,\n        \"value\": \"01011\"\n      }\n    ],\n    \"title\": \"レベル５\"\n  },\n  {\n    \"allowInputs\": [\n      \"0\",\n      \"1\"\n    ],\n    \"id\": 6,\n    \"questionText\": \"101を含む文字列\",\n    \"sequences\": [\n      {\n        \"accept\": true,\n        \"id\": 286,\n        \"masked\": false,\n        \"value\": \"1010\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 287,\n        \"masked\": true,\n        \"value\": \"011011\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 288,\n        \"masked\": false,\n        \"value\": \"010011\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 289,\n        \"masked\": true,\n        \"value\": \"\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 290,\n        \"masked\": true,\n        \"value\": \"10001\"\n      }\n    ],\n    \"title\": \"レベル６\"\n  },\n  {\n    \"allowInputs\": [\n      \"0\",\n      \"1\",\n      \"2\"\n    ],\n    \"id\": 7,\n    \"questionText\": \"同じ文字が連続して並ばない文字列(空文字を含む)\",\n    \"sequences\": [\n      {\n        \"accept\": true,\n        \"id\": 291,\n        \"masked\": true,\n        \"value\": \"01210\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 292,\n        \"masked\": true,\n        \"value\": \"\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 293,\n        \"masked\": true,\n        \"value\": \"210201\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 294,\n        \"masked\": true,\n        \"value\": \"1102\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 295,\n        \"masked\": true,\n        \"value\": \"12022\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 296,\n        \"masked\": true,\n        \"value\": \"0100\"\n      }\n    ],\n    \"title\": \"レベル７\"\n  },\n  {\n    \"allowInputs\": [\n      \"0\",\n      \"1\",\n      \"2\"\n    ],\n    \"id\": 8,\n    \"questionText\": \"数字の和が3の倍数(0は3の倍数)となる文字列(空文字の和は0)\",\n    \"sequences\": [\n      {\n        \"accept\": true,\n        \"id\": 297,\n        \"masked\": true,\n        \"value\": \"0\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 298,\n        \"masked\": true,\n        \"value\": \"\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 299,\n        \"masked\": true,\n        \"value\": \"00120\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 300,\n        \"masked\": true,\n        \"value\": \"1202112\"\n      },\n      {\n        \"accept\": true,\n        \"id\": 301,\n        \"masked\": true,\n        \"value\": \"22210110\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 302,\n        \"masked\": true,\n        \"value\": \"1\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 303,\n        \"masked\": true,\n        \"value\": \"1010102\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 304,\n        \"masked\": true,\n        \"value\": \"1110121\"\n      },\n      {\n        \"accept\": false,\n        \"id\": 305,\n        \"masked\": true,\n        \"value\": \"012221\"\n      }\n    ],\n    \"title\": \"レベル８\"\n  }\n]","import React, {useEffect} from \"react\";\nimport * as R from \"ramda\";\nimport * as Constant from \"../constant\";\n\nfunction ClearEffect(props) {\n\n  const Drop = props => {\n\n    const animateRef1 = React.createRef();\n    const animateRef2 = React.createRef();\n    const animateMotionRef = React.createRef();\n\n    useEffect(() => {\n      animateRef1.current.beginElement();\n      animateRef2.current.beginElement();\n      animateMotionRef.current.beginElement();\n    }, [animateRef1, animateRef2, animateMotionRef]);\n\n    let rad = (props.angle + 90) * (Math.PI / 180);\n    let cos = Math.cos(rad);\n    if (Math.abs(cos) < 0.00001) {\n      cos = 0;\n    }\n    let sin = Math.sin(rad);\n    if (Math.abs(sin) < 0.00001) {\n      sin = 0;\n    }\n    let x = props.x;\n    let y = props.y;\n    let dx = x + 15 * cos;\n    let dy = y - 15 * sin;\n    let tx = 1.35//Math.abs(cos) + 1;\n    let ty = 1.35//Math.abs(sin) + 1;\n\n    let animationOpacity1Dur = Constant.AUTOMATON_ANIMATION_DURATION * 1 / 2 + 's';\n    let animationOpacity2Dur = Constant.AUTOMATON_ANIMATION_DURATION * 1 / 2 + 's';\n\n    let animateMotionDur = Constant.AUTOMATON_ANIMATION_DURATION + 's';\n    return (\n      <g>\n        <path d=\"M-5 -30 L0 0 L5 -30 Z\" fill={props.color}></path>\n        <path d=\"M5 -30 A5 5 0 0 0 -5 -30\" fill={props.color}></path>\n        <animate ref={animateRef1} id=\"clearEffectOpacity1\" attributeName=\"opacity\" from=\"0.2\" to=\"1\"\n                 dur={animationOpacity1Dur} begin=\"0s;\" repeatCount=\"1\"></animate>\n        <animate id=\"clearEffectOpacity2\" attributeName=\"opacity\" from=\"1\" to=\"0\" dur={animationOpacity2Dur}\n                 begin=\"clearEffectOpacity1.end\" repeatCount=\"1\"></animate>\n        <animateTransform ref={animateRef2} attributeName=\"transform\" type=\"scale\"\n                          from=\"1 1\" to={`${tx} ${ty}`} begin=\"0s\" dur={animateMotionDur} additive=\"sum\"></animateTransform>\n        <animateTransform attributeName=\"transform\"\n                          attributeType=\"XML\"\n                          type=\"rotate\"\n                          from={`-${props.angle} 0 0`}\n                          to={`-${props.angle} 0 0`}\n                          dur=\"10s\"\n                          repeatCount=\"indefinite\" additive=\"sum\"/>\n        <animateMotion ref={animateMotionRef} repeatCount=\"1\"\n                       path={`M${x},${y} ${dx},${dy}`} dur={animateMotionDur}></animateMotion>\n      </g>\n    );\n  }\n\n  return (\n    <>\n      {R.range(0, 16).map((n, index, arr) => {\n        let perAngle = 360 / arr.length;\n        // let color = '';\n        // switch (index % 2) {\n        //   case 0:\n        //     color = \"#ff1464\";\n        //     break;\n        //   case 1:\n        //     color = \"#009944\";\n        //     break;\n        //   case 2:\n        //     color = \"#8FC31F\";\n        //     break;\n        //   case 3:\n        //     color = \"#FFF100\";\n        //     break;\n        // }\n        return <Drop key={index} angle={n * perAngle} x={props.x} y={props.y} color={\"#ff1464\"}/>;\n      })}\n    </>\n  );\n}\n\nexport default ClearEffect;","import * as React from \"react\";\nimport {useEffect, useState} from \"react\";\nimport * as style from \"./Animation.module.scss\"\nimport * as R from \"ramda\";\nimport {sequence} from \"ramda\";\nimport * as Constant from \"../constant\";\nimport ClearEffect from \"./ClearEffect\";\n\nfunction Animation(props) {\n\n  const [targetId, setTargetId] = useState('');\n  const [input, setInput] = useState('');\n\n  const animateMotionRef = React.createRef();\n  const propsRef = React.useRef(props);\n  const [pos, setPos] = useState({x: 0, y: 0});\n  const [sequenceStatus, setSequenceStatus] = useState('');\n  // マーカーがアニメーション切り替えのタイミングで、座標(0,0)に一瞬表示されるので、\n  // アニメーション開始前に非表示にして、50ms後に表示して対応\n  const [markerVisible, setMarkerVisible] = useState(false);\n\n  let timeoutList = [];\n\n  useEffect(() => {\n\n    if (!props.animationStart) return;\n    const animateMotionDom = animateMotionRef.current;\n\n    props.animationTarget.reduce(async (cur, next, tsIndex) => {\n      await cur;\n      setPos({x: 0, y: 0});\n      setSequenceStatus('')\n      await new Promise(resolve => {\n        let transitionsList = R.insert(0, 'transitionId_0', next.transitionOrderList);\n        transitionsList.reduce(async (cur2, next2, tIndex) => {\n          setMarkerVisible(false);\n          await cur2;\n          await new Promise(resolve => {\n            const t1 = setTimeout(() => {\n              setMarkerVisible(true);\n            }, 50);\n            const t2 = setTimeout(async () => {\n              if (tIndex === 0) {\n                propsRef.current.updateStatus(next.sequenceId, 'playing');\n              }\n              setTargetId(next2 + '_path');\n              setInput(props.sequences[tsIndex].value.charAt(tIndex - 1));\n              animateMotionDom.beginElement();\n              resolve();\n            }, tIndex === 0 ? 0 : Constant.AUTOMATON_ANIMATION_DURATION * 1000);\n            timeoutList.push(t1);\n            timeoutList.push(t2);\n          })\n        }, Promise.resolve()).then(() => resolve());\n      });\n      await new Promise(resolve => {\n        let stateId = R.last(props.animationTarget[tsIndex].stateOrderList);\n        const t1 = setTimeout(() => {\n          animateMotionDom.endElement();\n          let state = props.states.find(s => s.id === stateId);\n          setPos({x: state.x, y: state.y});\n        }, Constant.AUTOMATON_ANIMATION_DURATION * 1000);\n        const t2 = setTimeout(() => {\n          let status = props.animationTarget[tsIndex].result ? 'success' : 'failed';\n          propsRef.current.updateStatus(next.sequenceId, status);\n          if (props.animationTarget[tsIndex].result) {\n            setTargetId('');\n            setSequenceStatus('success');\n          } else {\n            setSequenceStatus('failure');\n          }\n        }, Constant.AUTOMATON_ANIMATION_DURATION * 1000 + 300);\n        const t3 = setTimeout(() => {\n          if (!props.animationTarget[tsIndex].result) {\n            setSequenceStatus('');\n            propsRef.current.setAnimationStart(false);\n            return;\n          }\n          resolve();\n        }, Constant.AUTOMATON_ANIMATION_DURATION * 2000);\n        timeoutList.push(t1);\n        timeoutList.push(t2);\n        timeoutList.push(t3);\n      })\n    }, Promise.resolve()).then(() => {\n      propsRef.current.setAnimationStart(false);\n      propsRef.current.setClearPopupOpen(true);\n    });\n\n    return () => {\n      // タイマーをすべてクリア\n      timeoutList.forEach(t => clearTimeout(t));\n      // 再生中のシーケンスの状態を通常に更新\n      let index = R.findIndex(R.propEq('status', 'playing'))(propsRef.current.sequences);\n      if (index !== -1) {\n        let updated = R.mergeRight(propsRef.current.sequences[index])({'status': 'normal'});\n        propsRef.current.updateStatus(index, updated, propsRef.current.sequences)\n      }\n    }\n  }, [props.animationStart]);\n\n  useEffect(() => {\n    propsRef.current = props;\n  }, [props.sequenceStatusList, props.animationStart]);\n\n  const FailureAnimation = () => {\n\n    const ref = React.createRef();\n\n    useEffect(() => {\n      ref.current.beginElement();\n    }, [ref]);\n\n    return <animate ref={ref} attributeName=\"r\" values=\"13;0\"\n                    dur={`${Constant.AUTOMATON_ANIMATION_DURATION}s`} repeatCount=\"1\"></animate>;\n  }\n\n  const renderSuccessAnimation = () => {\n    if (sequenceStatus === 'success') {\n      return <ClearEffect x={pos.x} y={pos.y}></ClearEffect>\n    }\n    return null;\n  }\n\n  const renderFailureAnimation = () => {\n    if (sequenceStatus === 'failure') {\n      return <FailureAnimation/>;\n    }\n    return null;\n  }\n\n  if (props.animationStart) {\n    return (\n      <>\n        <g>\n          <circle id=\"transitionPointer\" cx={pos.x} cy={pos.y} r=\"15\" fill=\"#ff1464\"\n                  style={{display: !markerVisible && 'none'}}\n            /*className={failed && style.failed}*/>\n            {renderFailureAnimation()}\n          </circle>\n          <text className={style.pointerText} dx={-7} dy={7} stroke=\"white\">{input}</text>\n          <animateMotion ref={animateMotionRef} dur={`${Constant.AUTOMATON_ANIMATION_DURATION + 0.02}s`}\n                         repeatCount=\"1\" styles={{display: 'none'}}>\n            <mpath xlinkHref={\"#\" + targetId}></mpath>\n          </animateMotion>\n        </g>\n        {renderSuccessAnimation()}\n      </>\n    );\n  }\n\n  return null;\n\n}\n\nexport default Animation;","import baseApi from './base-service'\nimport {getQuestion} from \"./question-service\";\n\nconst START_STATE_ID = 'stateId_0'\n\nexport async function testAutomaton(questionId, automatonData) {\n\n  try {\n    const res = testAutomatonData(questionId, automatonData);\n    // const res = await baseApi.post(`/test/automaton/${questionId}`, automatonData);\n    return res;\n  } catch (error) {\n    console.log(error);\n  }\n\n}\n\n\nasync function testAutomatonData(questionId, automatonData) {\n  let question = await getQuestion(questionId);\n\n  let states = automatonData.states\n  let transitions = automatonData.transitions\n\n  let sequenceResultList = []\n\n  outer: for (let seq of question.sequences) {\n\n    let sequenceResult = {result: false, stateOrderList: [START_STATE_ID], transitionOrderList: []};\n    let currentStateId = START_STATE_ID\n    sequenceResultList.push(sequenceResult)\n\n    for (let c of seq.value) {\n      let matchTransition = transitions.find(t => t.fromStateId == currentStateId && t.inputs.includes(c));\n\n      // 入力に対する遷移がない場合、誤り\n      if (!matchTransition)\n        continue outer\n\n      currentStateId = matchTransition.toStateId\n      sequenceResult.stateOrderList.push(currentStateId)\n      sequenceResult.transitionOrderList.push(matchTransition.id)\n    }\n\n    let finishedState = states.find(s => s.id === currentStateId)\n    let res = seq.accept == finishedState.accept\n    sequenceResult.result = res\n\n  }\n\n  return sequenceResultList\n\n}\n","import * as React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {Trans, useTranslation} from \"react-i18next\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport {useHistory} from 'react-router-dom';\nimport * as Constant from \"../constant\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nfunction ClearPopup(props) {\n\n  const {t, i18n} = useTranslation();\n  const history = useHistory();\n\n  const onNextButtonClick = () => {\n    props.setOpen(false);\n    history.push(`/play/${Number(props.questionId) + 1}`);\n  }\n\n  return (\n    <Dialog open={props.open} onClose={() => props.setOpen(false)}>\n      <Paper elevation={4}>\n        <DialogContent>\n          <DialogContentText style={{fontSize: '1.1rem'}}>\n            <Trans i18nKey=\"clearPopup.message\" values={{title: props.title}}/>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => props.setOpen(false)} color=\"default\">\n            {t('common.close')}\n          </Button>\n          <Button onClick={onNextButtonClick} variant=\"contained\" color=\"primary\"\n                disabled={Number(props.questionId) > Constant.QUESTION_SIZE}>\n            {t('clearPopup.nextQuestion')}\n          </Button>\n        </DialogActions>\n      </Paper>\n    </Dialog>\n  );\n\n}\n\nexport default ClearPopup;","import React, {useEffect, useState} from \"react\";\nimport SequenceNav from \"./SequenceNav\";\nimport QuestionArea from \"./QuestionArea\";\nimport ActionBar from \"./ActionBar\";\nimport AutomatonRender from \"./AutomatonRender\";\nimport * as QuestionService from '../service/question-service';\nimport Animation from \"./Animation\";\nimport * as TestAutomatonService from \"../service/test-automaton-service\";\nimport * as UserService from \"../service/user-service\";\nimport * as R from \"ramda\";\nimport UserContext from \"../context/UserContext\";\nimport * as Constant from \"../constant\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport ClearPopup from \"./ClearPopup\";\nimport {useTranslation} from \"react-i18next\";\nimport {useHistory} from \"react-router-dom\";\n\nfunction Play(props) {\n\n  const {t, i18n} = useTranslation();\n  const user = React.useContext(UserContext);\n  const history = useHistory();\n\n  const questionId = props.match.params.questionId;\n  const [sequences, setSequences] = useState([]);\n  const [sequenceStatusList, setSequenceStatusList] = useState([]);\n  const [questionData, setQuestionData] = useState(\n    {questionText: '', allowInputs: []});\n\n  const INITIAL_COUNT = 1;\n  const INITIAL_STATES = [{\n    x: 60,\n    y: Constant.SVG_HEIGHT / 2,\n    id: 'stateId_0',\n    accept: false\n  }];\n  const [states, setStates] = useState(INITIAL_STATES);\n  const [transitions, setTransitions] = useState([]);\n  const [count, setCount] = useState(INITIAL_COUNT);\n\n  const [animationStart, setAnimationStart] = useState(false);\n  const [animationTarget, setAnimationTarget] = useState([]);\n\n  const [clearPopupOpen, setClearPopupOpen] = useState(false);\n\n  useEffect(() => {\n    // 不正なquestionIdの場合、トップ画面に遷移する\n    if (Number.isNaN(Number.parseInt(questionId)) ||\n      !R.range(1, Constant.QUESTION_SIZE + 1).includes(Number(questionId))) {\n      history.push('/');\n      return;\n    }\n    const getQuestionData = async () => {\n      const data = await QuestionService.getQuestion(questionId);\n      setSequences(R.map(s => R.mergeLeft(s, {status: 'normal'}))(data.sequences));\n      setQuestionData(data);\n\n      // // オートマトンデータを初期化\n      setTransitions([]);\n      setStates(INITIAL_STATES);\n      setCount(INITIAL_COUNT);\n\n      // ログイン済みで、オートマトンのデータを保存済みの場合、初期値に設定する\n      if (user) {\n        let automatonData = await UserService.loadAutomaton(questionId);\n        if (automatonData) {\n          setStates(automatonData.states);\n          setTransitions(automatonData.transitions);\n          setCount(automatonData.count);\n        }\n      }\n      document.title = `${t('play.title')} (${data.title})`;\n      window.gtag('config', Constant.REACT_APP_GATAG_ID);\n    }\n    getQuestionData();\n  }, [questionId, user]);\n\n  const testAutomaton = async () => {\n    let automaton = {\n      states: states,\n      transitions: transitions\n    }\n    let data = await TestAutomatonService.testAutomaton(questionId, automaton);\n    // 入力文字列の実行結果を初期化\n    setSequenceStatusList(sequences.map(s => Object({id: s.id, status: 'none'})));\n    setAnimationTarget(data);\n    setAnimationStart(true);\n  }\n\n  const cancelTest = () => {\n    setAnimationStart(false);\n    setSequenceStatusList([]);\n  }\n\n  const saveAutomaton = async () => {\n    let automaton = {\n      states: states,\n      transitions: transitions,\n      count: count\n    };\n    await UserService.saveAutomaton(questionId, automaton);\n  }\n\n  const updateSequenceStatus = (id, status) => {\n    let index = R.findIndex(s => s.id === id, sequenceStatusList);\n    let updated = R.mergeRight(sequenceStatusList[index], {status: status});\n    let updateSequenceStatusList = R.update(index, updated, sequenceStatusList);\n    setSequenceStatusList(updateSequenceStatusList);\n  }\n\n  const resetAutomaton = () => {\n    setStates(INITIAL_STATES);\n    setTransitions([]);\n    setCount(INITIAL_COUNT);\n  }\n\n  return (\n    <div style={{maxWidth: '1000px', margin: '0.5px auto 0px', padding: \"15px 0px 20px\"}}>\n      <QuestionArea questionText={questionData.questionText} title={questionData.title}\n                    allowInputs={questionData.allowInputs}/>\n      <Grid container spacing={2}>\n        <Grid item sm={3}>\n          <SequenceNav sequenceList={sequences} sequenceStatusList={sequenceStatusList}/>\n        </Grid>\n        <Grid item sm={9}>\n          <ClearPopup open={clearPopupOpen} setOpen={setClearPopupOpen}\n                      questionId={questionId} title={questionData.title}></ClearPopup>\n          <Paper elevation={3} style={{marginTop: '15px'}}>\n            <ActionBar onTest={testAutomaton} onSave={saveAutomaton}\n                       onReset={resetAutomaton}\n                       onCancel={cancelTest}\n                       animationStart={animationStart}></ActionBar>\n            <AutomatonRender\n              states={states}\n              setStates={setStates}\n              transitions={transitions}\n              setTransitons={setTransitions}\n              count={count}\n              setCount={setCount}\n              allowInputs={questionData.allowInputs}\n              questionId={questionId}\n              animation={() => (\n                <Animation animationStart={animationStart}\n                           animationTarget={animationTarget}\n                           setAnimationStart={setAnimationStart}\n                           updateStatus={updateSequenceStatus}\n                           sequences={sequences}\n                           questionId={questionId}\n                           states={states}\n                           sequenceStatusList={sequenceStatusList}\n                           setSequenceStatusList={setSequenceStatusList}\n                           setClearPopupOpen={setClearPopupOpen}\n                />\n              )}>\n            </AutomatonRender>\n          </Paper>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n\nexport default Play;","import * as React from \"react\";\nimport * as LoginService from \"../service/login-service\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport * as style from \"./LoginDialog.module.scss\";\nimport Button from \"@material-ui/core/Button\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport {Trans, useTranslation} from \"react-i18next\";\n\nfunction LoginDialog(props) {\n\n  const {t, i18n} = useTranslation();\n\n  const loginByGoogle = async () => {\n    let {state} = await LoginService.getState();\n    let googleAuthorizedUrl = LoginService.getGoogleAuthorizationUrl(state);\n    window.location.href = googleAuthorizedUrl;\n  }\n\n  const loginByTwitter = async () => {\n    let {token} = await LoginService.getTwitterToken();\n    let twitterAuthorizedUrl = LoginService.getTwitterAuthorizationUrl(token);\n    window.location.href = twitterAuthorizedUrl;\n  }\n\n  return (\n    <Dialog\n      // fullWidth={50}\n      maxWidth='sm'\n      open={props.open}\n      onClose={() => props.setOpen(false)}>\n      <DialogTitle>\n        {t('loginDialog.title')}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          <Trans i18nKey=\"loginDialog.content\"/>\n        </DialogContentText>\n      </DialogContent>\n      <List style={{margin: 'auto'}}>\n        <ListItem>\n          <Button onClick={loginByTwitter} variant=\"outlined\"\n                  style={{textTransform: 'none', background: '#1DA1F2'}}\n                  className={`${style.loginButton} ${style.twitterBg}`}>\n            <i className={`fab fa-twitter ${style.loginIcon}`}/>\n            <span className={style.buttonText}>{t('loginDialog.loginWithTwitter')}</span>\n          </Button>\n        </ListItem>\n        <ListItem>\n          <Button onClick={loginByGoogle} variant=\"outlined\" style={{textTransform: 'none', background: '#DB4437'}}\n                  className={`${style.loginButton} ${style.googleBg}`}>\n            <i className={`fab fa-google ${style.loginIcon}`}/>\n            <span className={style.buttonText}>{t('loginDialog.loginWithGoogle')}</span>\n          </Button>\n        </ListItem>\n      </List>\n    </Dialog>\n  );\n\n}\n\nexport default LoginDialog;","import * as React from \"react\";\nimport UserContext from \"../context/UserContext\";\nimport {useTranslation} from \"react-i18next\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Container from \"@material-ui/core/Container\";\nimport * as style from \"./Footer.module.scss\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport * as Constant from '../constant';\n\n\nfunction Footer(props) {\n\n  const user = React.useContext(UserContext);\n  const {t, i18n} = useTranslation();\n\n  const history = useHistory();\n\n  return (\n    <Container maxWidth=\"lg\" style={{padding: '20px 0px 15px', background: '#F3F3F6'}}>\n      <Grid container\n            style={{borderRadius: '5px', margin: '0 auto 0 auto', maxWidth: '900px'}}>\n        <Grid item sm={4} style={{textAlign: 'left'}}>\n          <p className={style.footerListTitle}>{t('footer.aboutLovingAutomaton')}</p>\n          <ul className={style.footerList}>\n            <li><Link to=\"/terms_of_service\" className={style.footerLink}>\n              {t('footer.termOfService')}\n            </Link></li>\n            <li><Link to=\"/privacy_policy\" className={style.footerLink}>\n              {t('footer.privacyPolicy')}\n            </Link></li>\n            <li><a href={`mailto:${Constant.CONTACT_EMAIL}`} className={style.footerLink}>\n              {t('footer.contactUs')}\n            </a></li>\n          </ul>\n        </Grid>\n        <Grid item sm={4} style={{textAlign: 'left'}}>\n          <p className={style.footerListTitle}>\n            {t('footer.watchSource')}\n          </p>\n          <ul className={style.footerList}>\n            <li><a href={Constant.GIT_REPOSITORY_URL} target=\"_blank\"\n                   className={style.footerLink}>{t('footer.sourceHere')}</a></li>\n          </ul>\n        </Grid>\n        <Grid item sm={4} style={{textAlign: 'right', margin: 'auto 0 0 auto'}}>\n          <span><i>{t('footer.copyright')}</i></span>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n\nexport default Footer;\n","import * as React from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {useHistory} from \"react-router-dom\";\nimport {useEffect} from \"react\";\nimport * as Constant from \"../constant\";\nimport * as style from \"./Common.module.scss\";\n\nfunction TermsOfService(props) {\n\n  const {t, i18n} = useTranslation()\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = t('termOfService.title');\n    window.gtag('config', Constant.REACT_APP_GATAG_ID);\n  }, []);\n\n  return (\n    <Grid container style={{maxWidth: '1000px', margin: '0.5px auto 0px'}}>\n      <Grid item sm={12} style={{padding: \"20px 50px\", margin: \"15px 6px\", background: \"white\", borderRadius: '5px'}}>\n\n        <h1>利用規約</h1>\n\n        <p>\n          この利用規約（以下，「本規約」といいます。）は，s-threeislands（以下，「当方」といいます。）がこのウェブサイト上で提供するサービス（以下，「本サービス」といいます。）の利用条件を定めるものです。<br/>\n          登録ユーザーの皆さま（以下，「ユーザー」といいます。）には，本規約に従って，本サービスをご利用いただきます。\n        </p>\n\n        <h2>第1条（適用）</h2>\n        <p>\n          本規約は，ユーザーと当方との間の本サービスの利用に関わる一切の関係に適用されるものとします。<br/>\n          当方は本サービスに関し，本規約のほか，ご利用にあたってのルール等，各種の定め（以下，「個別規定」といいます。）をすることがあります。これら個別規定はその名称のいかんに関わらず，本規約の一部を構成するものとします。<br/>\n          本規約の規定が前条の個別規定の規定と矛盾する場合には，個別規定において特段の定めなき限り，個別規定の規定が優先されるものとします。<br/>\n        </p>\n\n        <h2>\n          第2条（禁止事項）\n        </h2>\n        <p>\n          ユーザーは，本サービスの利用にあたり，以下の行為をしてはなりません。\n        </p>\n        <ol className={style.list}>\n          <li>法令または公序良俗に違反する行為</li>\n          <li>犯罪行為に関連する行為</li>\n          <li>本サービスの内容等，本サービスに含まれる著作権，商標権ほか知的財産権を侵害する行為</li>\n          <li>当方，ほかのユーザー，またはその他第三者のサーバーまたはネットワークの機能を破壊したり，妨害したりする行為</li>\n          <li>本サービスによって得られた情報を商業的に利用する行為</li>\n          <li>当方のサービスの運営を妨害するおそれのある行為</li>\n          <li>不正アクセスをし，またはこれを試みる行為</li>\n          <li>他のユーザーに関する個人情報等を収集または蓄積する行為</li>\n          <li>不正な目的を持って本サービスを利用する行為</li>\n          <li>本サービスの他のユーザーまたはその他の第三者に不利益，損害，不快感を与える行為</li>\n          <li>他のユーザーに成りすます行為</li>\n          <li>当方が許諾しない本サービス上での宣伝，広告，勧誘，または営業行為</li>\n          <li>面識のない異性との出会いを目的とした行為</li>\n          <li>当方のサービスに関連して，反社会的勢力に対して直接または間接に利益を供与する行為</li>\n          <li>その他，当方が不適切と判断する行為</li>\n        </ol>\n\n        <h2>第3条（本サービスの提供の停止等）</h2>\n        <ol className={style.list}>\n          <li>\n            当方は，以下のいずれかの事由があると判断した場合，ユーザーに事前に通知することなく本サービスの全部または一部の提供を停止または中断することができるものとします。\n          </li>\n          <ol>\n            <li>本サービスにかかるコンピュータシステムの保守点検または更新を行う場合</li>\n            <li>地震，落雷，火災，停電または天災などの不可抗力により，本サービスの提供が困難となった場合</li>\n            <li>コンピュータまたは通信回線等が事故により停止した場合</li>\n            <li>その他，当方が本サービスの提供が困難と判断した場合</li>\n          </ol>\n          <li>\n            当方は，本サービスの提供の停止または中断により，ユーザーまたは第三者が被ったいかなる不利益または損害についても，一切の責任を負わないものとします。\n          </li>\n        </ol>\n\n        <h2>\n          第4条（利用制限および登録抹消）\n        </h2>\n        <ol className={style.list}>\n          <li>\n            当方は，ユーザーが以下のいずれかに該当する場合には，事前の通知なく，ユーザーに対して，本サービスの全部もしくは一部の利用を制限し，またはユーザーとしての登録を抹消することができるものとします。\n            <ol>\n              <li>本サービスについて，最終の利用から一定期間利用がない場合</li>\n              <li>その他，当方が本サービスの利用を適当でないと判断した場合</li>\n            </ol>\n          </li>\n          <li>\n            当方は，本条に基づき当方が行った行為によりユーザーに生じた損害について，一切の責任を負いません。\n          </li>\n        </ol>\n\n        <h2>\n          第5条（退会）\n        </h2>\n        <p>\n          ユーザーは，当方の定める退会手続により，本サービスから退会できるものとします。\n        </p>\n\n        <h2>\n          第6条（保証の否認および免責事項）\n        </h2>\n        <p>\n          当方は，本サービスに事実上または法律上の瑕疵（安全性，信頼性，正確性，完全性，有効性，特定の目的への適合性，セキュリティなどに関する欠陥，エラーやバグ，権利侵害などを含みます。）がないことを明示的にも黙示的にも保証しておりません。<br/>\n          当方は，本サービスに起因してユーザーに生じたあらゆる損害について一切の責任を負いません。ただし，本サービスに関する当方とユーザーとの間の契約（本規約を含みます。）が消費者契約法に定める消費者契約となる場合，この免責規定は適用されません。\n        </p>\n\n        <h2>\n          第7条（サービス内容の変更等）\n        </h2>\n        <p>\n          当方は，ユーザーに通知することなく，本サービスの内容を変更しまたは本サービスの提供を中止することができるものとし，これによってユーザーに生じた損害について一切の責任を負いません。\n        </p>\n\n        <h2>\n          第8条（利用規約の変更）\n        </h2>\n        <p>\n          当方は，必要と判断した場合には，ユーザーに通知することなくいつでも本規約を変更することができるものとします。<br/>\n          なお，本規約の変更後，本サービスの利用を開始した場合には，当該ユーザーは変更後の規約に同意したものとみなします。\n        </p>\n\n        <h2>\n          第9条（個人情報の取扱い）\n        </h2>\n        <p>\n          当方は，本サービスの利用によって取得する個人情報については，当方「プライバシーポリシー」に従い適切に取り扱うものとします。\n        </p>\n\n        <h2>\n          第10条（準拠法・裁判管轄）\n        </h2>\n        <p>\n          本規約の解釈にあたっては，日本法を準拠法とします。\n          本サービスに関して紛争が生じた場合には，当方の本店所在地を管轄する裁判所を専属的合意管轄とします。\n        </p>\n\n      </Grid>\n    </Grid>\n  );\n\n}\n\nexport default TermsOfService;","import * as React from \"react\";\nimport {useEffect} from \"react\";\nimport {useTranslation} from \"react-i18next\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {useHistory} from \"react-router-dom\";\nimport * as Constant from \"../constant\";\nimport * as style from \"./Common.module.scss\";\n\nfunction PrivacyPolicy(props) {\n\n  const {t, i18n} = useTranslation()\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = t('privacyPolicy.title');\n    window.gtag('config', Constant.REACT_APP_GATAG_ID);\n  }, []);\n\n  return (\n    <Grid container style={{maxWidth: '1000px', margin: '0.5px auto 0px'}}>\n      <Grid item sm={12} style={{padding: \"20px 50px\", margin: \"15px 6px\", background: \"white\", borderRadius: '5px'}}>\n\n        <h1>プライバシーポリシー</h1>\n        <p>\n          s-threeislands（以下，「当方」といいます。）は，本ウェブサイト上で提供するサービス（以下,「本サービス」といいます。）における，ユーザーの個人情報を含む利用者情報の取扱いについて，以下のとおりプライバシーポリシー（以下，「本ポリシー」といいます。）を定めます。\n        </p>\n\n        <h2>第1条（利用者情報）</h2>\n        <p>\n          「利用者情報」とは，ユーザの識別情報、通信サービス上の行動履歴を指し，本ポリシーに基づき本サービスが収集するものを意味するものとします。\n        </p>\n\n        <h2>第2条（利用者情報の収集方法）</h2>\n        <p>\n          当方は，ユーザーが利用登録をする際に以下の情報を取得します。<br/>\n        </p>\n        <ol className={style.list}>\n          <li>\n            ユーザが本サービスの利用において、他のサービスと連携を許可することにより、本サービスに提供いただく情報<br/>\n            ユーザが、本サービスの利用するにあたり、他のサービスとの連携を許可した場合、その許可の際に同意いただいた内容に基き、以下の情報を収集します。<br/>\n            <ol>\n              <li>当該外部サービスで、ユーザを識別するID</li>\n              <li>外部サービスで利用しているユーザの名前もしくは、ユーザ名</li>\n            </ol>\n          </li>\n          <li>\n            ユーザが本ザービスを利用するにあたって、当方が収集する情報<br/>\n            本サービスへのアクセス状況やそのご利用方法に関する情報を収集することがあります。これらには以下の情報が含まれます。\n            <ol>\n              <li>リファラ</li>\n              <li>サーバアクセスログに関する情報</li>\n              <li>Cookie、ADID、IDFA その他の識別子</li>\n            </ol>\n          </li>\n        </ol>\n\n        <h2>\n          第3条（利用者情報を収集・利用する目的）\n        </h2>\n        <p>\n          本サービスのサービス提供にかかわる利用者情報の具体的な利用目的は以下の通りです。\n        </p>\n        <ol className={style.list}>\n          <li>本サービスに関する登録の受付、本人確認、ユーザ認証、ユーザ作成データの記録、保護及び改善のため</li>\n          <li>ユーザのトラフィック測定及び行動測定のため</li>\n          <li>広告の配信、表示及び効果測定のため</li>\n        </ol>\n\n        <h2>\n          第4条（外部送信、第三者提供、情報収集モジュールの有無）\n        </h2>\n        <ol className={style.list}>\n          <li>本サービスでは、以下の提携先が、ユーザの端末にCookieを保存し、これを利用して利用者情報を蓄積及び利用している場合があります。</li>\n\n          <table border=\"1\" style={{borderCollapse: 'collapse', marginTop: '0.5rem'}}>\n            <tbody>\n            <tr>\n              <td>提携先</td>\n              <td>Google</td>\n            </tr>\n            <tr>\n              <td>上記提携先のプライバシーポリシーのURL</td>\n              <td><a href=\"https://policies.google.com/privacy?hl=ja\" target=\"_blank\">\n                https://policies.google.com/privacy?hl=ja\n              </a></td>\n            </tr>\n            <tr>\n              <td>上記提携先のオプトアウト(無効化)URL</td>\n              <td><a\n                href=\"https://chrome.google.com/webstore/detail/google-analytics-opt-out/fllaojicojecljbmefodhfapmkghcbnh?hl=ja\"\n                target=\"-_blank\">\n                https://chrome.google.com/webstore/detail/google-analytics-opt-out/fllaojicojecljbmefodhfapmkghcbnh?hl=ja\n              </a>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n\n          <li>本サービスには以下の情報収集モジュールが組み込まれています。これに伴い、以下のとおり情報収集モジュール提供者(日本国外にある者を含みます。)への利用者情報の提供を行います。</li>\n          <table border=\"1\" style={{borderCollapse: 'collapse', marginTop: '0.5rem'}}>\n            <tbody>\n            <tr>\n              <td>情報収集モジュールの名称</td>\n              <td>Google Analytics</td>\n            </tr>\n            <tr>\n              <td>情報収集モジュールの提供者</td>\n              <td>Google</td>\n            </tr>\n            <tr>\n              <td>上記提供者のプライバシーポリシーのURL</td>\n              <td>\n                <a href=\"https://policies.google.com/privacy?hl=ja\" target=\"_blank\">\n                  https://policies.google.com/privacy?hl=ja\n                </a>\n              </td>\n            </tr>\n            </tbody>\n          </table>\n        </ol>\n\n        <h2>\n          第5条（利用目的の変更）\n        </h2>\n        <ol className={style.list}>\n          <li>当方は，利用目的が変更前と関連性を有すると合理的に認められる場合に限り，利用者情報の利用目的を変更するものとします。</li>\n          <li>利用目的の変更を行った場合には，変更後の目的について，当方所定の方法により，ユーザーに通知し，または本ウェブサイト上に公表するもの</li>\n        </ol>\n\n        <h2>第6条（利用者情報の第三者提供）</h2>\n        <ol className={style.list}>\n          <li>\n            当方は，次に掲げる場合を除いて，あらかじめユーザーの同意を得ることなく，第三者に利用者情報を提供することはありません。ただし，個人情報保護法その他の法令で認められる場合を除きます。\n            <ol className={style.list}>\n              <li>提携先、情報収集モジュール提供者へ個人情報が提供される場合</li>\n              <li>人の生命，身体または財産の保護のために必要がある場合であって，本人の同意を得ることが困難であるとき</li>\n              <li>公衆衛生の向上または児童の健全な育成の推進のために特に必要がある場合であって，本人の同意を得ることが困難であるとき</li>\n              <li>国の機関もしくは地方公共団体またはその委託を受けた者が法令の定める事務を遂行することに対して協力する必要がある場合であって，本人の同意を得ることにより当該事務の遂行に支障を及ぼすおそれがあるとき</li>\n              <li>予め次の事項を告知あるいは公表し，かつ当方が個人情報保護委員会に届出をしたとき</li>\n              <ol className={style.list}>\n                <li>利用目的に第三者への提供を含むこと</li>\n                <li>第三者に提供されるデータの項目</li>\n                <li>第三者への提供の手段または方法</li>\n                <li>本人の求めに応じて個人情報の第三者への提供を停止すること</li>\n                <li>本人の求めを受け付ける方法</li>\n              </ol>\n            </ol>\n          </li>\n          <li>\n            前項の定めにかかわらず，次に掲げる場合には，当該情報の提供先は第三者に該当しないものとします。\n            <ol className={style.list}>\n              <li>当方が利用目的の達成に必要な範囲内において個人情報の取扱いの全部または一部を委託する場合</li>\n              <li>合併その他の事由による事業の承継に伴って個人情報が提供される場合</li>\n              <li>個人情報を特定の者との間で共同して利用する場合であって，その旨並びに共同して利用される個人情報の項目，共同して利用する者の範囲，利用する者の利用目的および当該個人情報の管理について責任を有する者の氏名または名称について，あらかじめ本人に通知し，または本人が容易に知り得る状態に置いた場合</li>\n            </ol>\n          </li>\n        </ol>\n\n        <h2>第7条（個人情報の開示）</h2>\n        <ol className={style.list}>\n          <li>当方は，本人から個人情報の開示を求められたときは，本人に対し，遅滞なくこれを開示します。ただし，開示することにより次のいずれかに該当する場合は，その全部または一部を開示しないこともあり，開示しない決定をした場合には，その旨を遅滞なく通知します。なお，個人情報の開示に際しては，1件あたり1，000円の手数料を申し受けます。</li>\n          <ol className={style.list}>\n            <li>本人または第三者の生命，身体，財産その他の権利利益を害するおそれがある場合</li>\n            <li>当方の業務の適正な実施に著しい支障を及ぼすおそれがある場合</li>\n            <li>その他法令に違反することとなる場合</li>\n          </ol>\n          <li>前項の定めにかかわらず，履歴情報および特性情報などの個人情報以外の情報については，原則として開示いたしません。</li>\n        </ol>\n\n        <h2>第8条（個人情報の訂正および削除）</h2>\n        <ol className={style.list}>\n          <li>ユーザーは，当方の保有する自己の個人情報が誤った情報である場合には，当方が定める手続きにより，当方に対して個人情報の訂正，追加または削除（以下，「訂正等」といいます。）を請求することができます。</li>\n          <li>当方は，ユーザーから前項の請求を受けてその請求に応じる必要があると判断した場合には，遅滞なく，当該個人情報の訂正等を行うものとします。</li>\n          <li>当方は，前項の規定に基づき訂正等を行った場合，または訂正等を行わない旨の決定をしたときは遅滞なく，これをユーザーに通知します。</li>\n        </ol>\n\n        <h2>\n          第9条（個人情報の利用停止等）\n        </h2>\n        <ol className={style.list}>\n          <li>当方は，本人から，個人情報が，利用目的の範囲を超えて取り扱われているという理由，または不正の手段により取得されたものであるという理由により，その利用の停止または消去（以下，「利用停止等」といいます。）を求められた場合には，遅滞なく必要な調査を行います。</li>\n          <li>前項の調査結果に基づき，その請求に応じる必要があると判断した場合には，遅滞なく，当該個人情報の利用停止等を行います。</li>\n          <li>当方は，前項の規定に基づき利用停止等を行った場合，または利用停止等を行わない旨の決定をしたときは，遅滞なく，これをユーザーに通知します。</li>\n          <li>前2項にかかわらず，利用停止等に多額の費用を有する場合その他利用停止等を行うことが困難な場合であって，ユーザーの権利利益を保護するために必要なこれに代わるべき措置をとれる場合は，この代替策を講じるものとします。</li>\n        </ol>\n\n        <h2>\n          第10条（プライバシーポリシーの変更）\n        </h2>\n        <ol className={style.list}>\n          <li>本ポリシーの内容は，法令その他本ポリシーに別段の定めのある事項を除いて，ユーザーに通知することなく，変更することができるものとします。</li>\n          <li>当方が別途定める場合を除いて，変更後のプライバシーポリシーは，本ウェブサイトに掲載したときから効力を生じるものとします。</li>\n        </ol>\n\n        <h2>\n          第11条（お問い合わせ窓口）\n        </h2>\n        <p>\n          本ポリシーに関するお問い合わせは，お問い合わせからお願いいたします。\n        </p>\n      </Grid>\n    </Grid>\n  );\n\n}\n\nexport default PrivacyPolicy;","import { useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nfunction ScrollToTop({ history }) {\n  useEffect(() => {\n    const unlisten = history.listen(() => {\n      window.scrollTo(0, 0);\n    });\n    return () => {\n      unlisten();\n    }\n  }, []);\n\n  return (null);\n}\n\nexport default withRouter(ScrollToTop);\n","import React, {Suspense, useEffect, useState} from 'react';\nimport './App.css';\nimport Header from \"./components/Header\";\nimport Home from \"./components/Home\";\nimport * as UserService from \"./service/user-service\";\nimport {HashRouter, Route, Switch} from \"react-router-dom\";\nimport Play from \"./components/Play\";\nimport LoginDialog from \"./components/LoginDialog\";\nimport UserContext from \"./context/UserContext\";\nimport Container from \"@material-ui/core/Container\";\nimport AutomatonGuide from \"./components/AutomatonGuide\";\nimport PlayGuide from \"./components/PlayGuide\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Footer from \"./components/Footer\";\nimport TermsOfService from \"./components/TermsOfService\";\nimport PrivacyPolicy from \"./components/PrivacyPolicy\";\nimport ScrollToTop from \"./components/ScrollToTop\";\n\nfunction App() {\n\n  const [user, setUser] = useState(null);\n  const [showLoginModal, setShowLoginModal] = useState(false);\n\n  // useEffect(() => {\n  //   const api = async () => {\n  //     const user = await UserService.getUser();\n  //     // ユーザ情報を取得できない(未ログイン)の場合、空のobjectが返却されるのでnullを設定\n  //     if (!user || Object.keys(user).length === 0) {\n  //       setUser(null);\n  //     } else {\n  //       setUser(user);\n  //     }\n  //   }\n  //   api();\n  // }, []);\n\n  return (\n    <div className=\"App\">\n      <CssBaseline/>\n      <Suspense fallback=\"loading\">\n        <UserContext.Provider value={user}>\n          <HashRouter basename={process.env.PUBLIC_URL}>\n            <Header setShowLoginModal={setShowLoginModal}/>\n            <Container id=\"app\" style={{background: '#BBeAff'}} maxWidth=\"lg\">\n              <LoginDialog open={showLoginModal} setOpen={setShowLoginModal}/>\n              <div className=\"grid-x grid-margin-x\">\n                <ScrollToTop />\n                <Switch>\n                  <Route path=\"/play/:questionId\" component={Play}/>\n                  <Route path=\"/automaton_guide\" component={AutomatonGuide}/>\n                  <Route path=\"/play_guide\" component={PlayGuide}/>\n                  <Route path=\"/terms_of_service\" component={TermsOfService}/>\n                  <Route path=\"/privacy_policy\" component={PrivacyPolicy}/>\n                  <Route path=\"/\" component={Home}/>\n                </Switch>\n              </div>\n            </Container>\n            <Footer/>\n          </HashRouter>\n        </UserContext.Provider>\n      </Suspense>\n    </div>\n  );\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const messages = {\n  ja: {\n    translation: {\n      appTitle: '恋するオートマトン♭',\n      header: {\n        login: 'ログイン',\n        logout: 'ログアウト',\n        removeAccount: 'アカウント削除',\n        cancel: 'キャンセル',\n        removeAccountDialog: {\n          title: 'アカウント削除のご確認',\n          message: '作成したオートマトン、クリア履歴が削除されます。'\n        },\n      },\n      home: {\n        title: 'トップ',\n        welcomeTitle: 'ようこそ！『恋するオートマトン♭』へ！！',\n        welcomeMessage: `<p>当サイトでは、楽しみながらオートマトンをつくることができます</p>\n                         <p>初めて訪れる方は、「オートマトンとは」から読んでみてください</p>`,\n        aboutAutomaton: 'オートマトンとは',\n        howToPlay: 'プレイ方法',\n        questionPrefix: 'レベル',\n      },\n      play: {\n        title: 'プレイ'\n      },\n      aboutAutomaton: {\n        title: 'オートマトンとは'\n      },\n      playGuide: {\n        title: 'プレイ方法'\n      },\n      privacyPolicy: {\n        title: 'プライバシーポリシー'\n      },\n      termOfService: {\n        title: '利用規約'\n      },\n      contextMenu: {\n        change: '変更',\n        delete: '削除'\n      },\n      actionBar: {\n        howToPlay: 'プレイ方法',\n        save: '保存',\n        reset: 'リセット',\n        test: '回答',\n        stop: '中止',\n        resetDialog: {\n          message: '作成したオートマトンを初期化しますがよろしいでしょうか？'\n        }\n      },\n      questionArea: {\n        inputSequences: 'アルファベット：'\n      },\n      sequenceNav: {\n        acceptingString: '受理する文字列',\n        notAcceptingString: '拒否する文字列',\n        emptyString: '空文字',\n      },\n      common: {\n        ok: 'OK',\n        close: '閉じる',\n        cancel: 'キャンセル'\n      },\n      clearPopup: {\n        title: 'Congratulations!!',\n        message: 'おめでとうございます！！<br/>{{title}}をクリアしました。',\n        nextQuestion: '次の問題に進む'\n      },\n      loginDialog: {\n        title: '外部サービスと連携してログイン',\n        content: '以下の機能が利用できます。<br/>・作成したオートマトンの保存<br/> ・クリア履歴の保存',\n        loginWithGoogle: 'Googleアカウントでログイン',\n        loginWithTwitter: 'Twitterアカウントでログイン'\n      },\n      footer: {\n        aboutLovingAutomaton: '恋するオートマトン♭について',\n        termOfService: '利用規約',\n        privacyPolicy: 'プライバシーポリシー',\n        contactUs: 'お問い合わせ',\n        watchSource: 'ソースコードをみる',\n        sourceHere: 'こちら (Githubのリンク)',\n        copyright: '© 2020 s-threeislands',\n      }\n    }\n  }\n}\n\nexport default messages;","import i18n from 'i18next';\nimport {initReactI18next} from 'react-i18next';\n\n// import Backend from 'i18next-http-backend';\n// import LanguageDetector from 'i18next-browser-languagedetector';\n\nimport messages from './messages';\n// don't want to use this?\n// have a look at the Quick start guide\n// for passing in lng and translations on init\n\ni18n\n  // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n  // learn more: https://github.com/i18next/i18next-http-backend\n  // .use(Backend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  // .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    resources: messages,\n    lng: 'ja',\n    fallbackLng: 'ja',\n    debug: true,\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    }\n  });\n\n\nexport default i18n;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './i18n';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"string\":\"AutomatonGuide_string__2bvcC\",\"list\":\"AutomatonGuide_list__PYIVa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginButton\":\"LoginDialog_loginButton__36J-h\",\"loginIcon\":\"LoginDialog_loginIcon__182Sa\",\"buttonText\":\"LoginDialog_buttonText__2PPMY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footerListTitle\":\"Footer_footerListTitle__1gFm6\",\"footerList\":\"Footer_footerList__2N2sn\",\"footerLink\":\"Footer_footerLink__3LNNe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgSuccess\":\"SequenceNav_bgSuccess__1ehTQ\",\"bgFailed\":\"SequenceNav_bgFailed__wboLr\",\"bgPlaying\":\"SequenceNav_bgPlaying__3-eIN\",\"playingAnimation\":\"SequenceNav_playingAnimation__2BToI\",\"anim_sc\":\"SequenceNav_anim_sc__bCJ0H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"numberPropertyList\":\"PlayGuide_numberPropertyList__2nQsz\",\"buttonPropertyList\":\"PlayGuide_buttonPropertyList__2zeX6\",\"list\":\"PlayGuide_list__1sU7K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"state\":\"State_state__QKTrR\",\"normal\":\"State_normal__3t54K\",\"active\":\"State_active__3L6ZB\"};"],"sourceRoot":""}